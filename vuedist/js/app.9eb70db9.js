(function(e){function t(t){for(var n,o,r=t[0],c=t[1],u=t[2],d=0,p=[];d<r.length;d++)o=r[d],i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vuedist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"029c":function(e,t,s){"use strict";var n=s("eebd"),i=s.n(n);i.a},"034f":function(e,t,s){"use strict";var n=s("64a9"),i=s.n(n);i.a},"0abb":function(e,t,s){},1099:function(e,t,s){},"10d9":function(e,t,s){},"14a1":function(e,t,s){"use strict";var n=s("c4f5"),i=s.n(n);i.a},"16c6":function(e,t,s){"use strict";var n=s("9370"),i=s.n(n);i.a},1953:function(e,t,s){},2703:function(e,t,s){},"2ac4":function(e,t,s){"use strict";var n=s("f478"),i=s.n(n);i.a},"2e43":function(e,t,s){},"35f9":function(e,t,s){"use strict";var n=s("6673"),i=s.n(n);i.a},"3a4c":function(e,t,s){"use strict";var n=s("9110"),i=s.n(n);i.a},"4aa7":function(e,t,s){"use strict";var n=s("7206"),i=s.n(n);i.a},"4f14":function(e,t,s){"use strict";var n=s("4f65"),i=s.n(n);i.a},"4f65":function(e,t,s){},5245:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"loading-fade",mode:"out-in"}},["loading"===e.isLoading?s("div",{key:"loading",staticClass:"loading flex align-center"},[s("div",{staticClass:"spinner"})]):"loaded"===e.isLoading?s("div",{key:"loaded",staticClass:"flex wrap"},[s("div",{staticClass:"nav pure-g"},[s("div",{staticClass:"pure-u-1-2 logo-sm flex align-center"},[s("a",{staticClass:"flex align-center",attrs:{href:"/indexold"}},[s("img",{staticClass:"logo",attrs:{src:"/images/logo_white.png",alt:"logo"}}),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[e._v(e._s(e.globalConfig.indexMsg.appname))]),s("div",{staticClass:"sign"},[e._v(e._s(e.globalConfig.indexMsg.jinrishici))])])])]),s("div",{staticClass:"pure-u-1-2 auth-sm flex align-center"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-link",{key:e.routerN,staticClass:"button-index",attrs:{to:e.globalGuide.href}},[s("span",[s("font-awesome-icon",{attrs:{icon:e.globalGuide.icon}}),s("span",{staticClass:"hide-sm"},[e._v(" "+e._s(e.globalGuide.content))])],1)])],1)],1)]),s("div",{staticClass:"main pure-g"},[s("transition",{attrs:{name:e.transType,mode:"out-in"}},[s("router-view",{attrs:{routermsg:e.globalConfig.indexMsg}})],1)],1),s("div",{staticClass:"footer pure-g"},[s("div",{staticClass:"pure-u-1 pure-u-xl-1-2 staff"},[e._v("\n          POWERED BY\n          "),s("a",{attrs:{href:"./staff"}},[e._v("SSPANEL-UIM")])]),s("div",{staticClass:"pure-u-1 pure-u-xl-1-2 time",class:{enableCrisp:"true"===e.globalConfig.crisp}},[e._v("©"+e._s(e.globalConfig.indexMsg.date)+" "+e._s(e.globalConfig.indexMsg.appname))])]),s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("uim-messager",{directives:[{name:"show",rawName:"v-show",value:e.msgrCon.isShow,expression:"msgrCon.isShow"}],attrs:{msgrCon:e.msgrCon},scopedSlots:e._u([{key:"msg",fn:function(){return[e._v(e._s(e.msgrCon.msg))]},proxy:!0},{key:"html",fn:function(){},proxy:!0}])})],1),s("transition",{attrs:{name:"fade"}},[e.showSigner?s("uim-signer"):e._e()],1)],1):e._e()])],1)},a=[],o=s("8c4f"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title pure-g"},[s("div",{staticClass:"pure-u-1 pure-u-xl-1-2 title-left"},[s("h1",[e._v(e._s(e.routermsg.appname))]),s("span",[e._v(e._s(e.routermsg.hitokoto))]),s("router-link",{staticClass:"button-index",attrs:{to:"/auth/login"}},[e._v("登录")]),s("router-link",{staticClass:"button-index",attrs:{to:"/auth/register"}},[e._v("注册")]),s("router-link",{staticClass:"button-index",attrs:{to:"/user/panel"}},[e._v("用户中心")])],1),e._m(0)])},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pure-u-xl-1-2 logo-bg"},[s("img",{staticClass:"logo",attrs:{src:"/images/logo_white.png",alt:""}})])}],u={props:["routermsg"]},l=u,d=s("2877"),p=Object(d["a"])(l,r,c,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"auth pure-g align-center"},[s("div",{staticClass:"pure-u-1 pure-u-sm-4-24 flex wrap space-around auth-links"},e._l(e.routerLinks,function(t){return s("router-link",{key:t.id,staticClass:"button-round flex align-center",class:{active:t.isActive},attrs:{to:t.href},nativeOn:{click:function(t){return e.setButtonState(t)}}},[s("font-awesome-layers",{staticClass:"fa-2x"},[s("font-awesome-icon",{style:{color:"white"},attrs:{icon:"circle"}}),s("font-awesome-icon",{style:{color:"black"},attrs:{icon:t.icon,transform:t.iconTransform}})],1),s("span",[e._v(" "+e._s(t.content))])],1)}),1),s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("router-view")],1)],1)},h=[],g={props:["routermsg"],data:function(){return{routerLinks:{login:{id:"R_AUTH_0",href:"/auth/login",content:"登录",icon:"sign-in-alt",iconTransform:"shrink-6",isActive:!1},register:{id:"R_AUTH_1",href:"/auth/register",content:"注册",icon:"user-plus",iconTransform:"shrink-7 left-1",isActive:!1},reset:{id:"R_PW_0",href:"/password/reset",content:"密码重置",icon:"unlock-alt",iconTransform:"shrink-6",isActive:!1}}}},methods:{setButtonState:function(){for(var e in this.routerLinks)this.$route.path===this.routerLinks[e].href?this.routerLinks[e].isActive=!0:this.routerLinks[e].isActive=!1}},watch:{$route:"setButtonState"},beforeRouteEnter:function(e,t,s){s(function(e){e.setButtonState()})},beforeRouteLeave:function(e,t,s){this.setButtonState(),s()}},v=g,_=Object(d["a"])(v,f,h,!1,null,null,null),C=_.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-auth pure-g pure-u-1 pure-u-sm-20-24 wrap"},[s("div",{staticClass:"title-back flex align-center"},[e._v("LOGIN")]),s("h1",[e._v("登录")]),s("div",{staticClass:"pure-u-1 basis-max",class:[e.isTgEnabled?"pure-u-sm-11-24":"pure-u-sm-1-2"]},[s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"Email"}},[e._v("邮箱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"Password"}},[e._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwd,expression:"passwd"}],attrs:{type:"password",name:"Password"},domProps:{value:e.passwd},on:{input:function(t){t.target.composing||(e.passwd=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"stepcode"}},[e._v("两步验证（未设置请忽略）")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.stepcode,expression:"stepcode"}],attrs:{type:"stepcode",name:"stepcode"},domProps:{value:e.stepcode},on:{input:function(t){t.target.composing||(e.stepcode=t.target.value)}}})]),!0===e.globalConfig.enableLoginCaptcha?s("div",{staticClass:"input-control flex wrap"},["geetest"===e.globalConfig.captchaProvider?s("div",{attrs:{id:"embed-captcha-login"}}):e._e(),s("form",{attrs:{action:"?",method:"POST"}},[e.globalConfig.recaptchaSiteKey?s("div",{staticClass:"g-recaptcha",attrs:{id:"g-recaptcha-login","data-theme":"dark","data-sitekey":e.globalConfig.recaptchaSiteKey}}):e._e()])]):e._e(),s("button",{staticClass:"auth-submit",attrs:{id:"login",type:"submit",disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),e.login(t)}},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.login(t):null}}},[e._v("确认登录")]),s("div",{staticClass:"input-control flex"},[s("div",{staticClass:"input-inner flex no-wrap space-between"},[s("uim-checkbox",{scopedSlots:e._u([{key:"content",fn:function(){return[s("span",[e._v("记住我")])]},proxy:!0}]),model:{value:e.remember_me,callback:function(t){e.remember_me=t},expression:"remember_me"}}),s("router-link",{staticClass:"link",attrs:{to:"/password/reset"}},[e._v("忘记密码？")])],1)])]),"true"===e.globalConfig.enable_telegram?s("div",{staticClass:"pure-u-1 pure-u-sm-11-24 pure-g auth-tg"},[s("h3",[e._v("Telegram登录")]),e._m(0),s("p",{attrs:{id:"telegram-alert"}},[e._v("正在载入 Telegram，如果长时间未显示请刷新页面或检查代理")]),s("div",{staticClass:"text-center",attrs:{id:"telegram-login-box"}}),s("p",[e._v("\n      或者添加机器人账号\n      "),s("a",{attrs:{href:e.telegramHref}},[e._v("@"+e._s(e.globalConfig.telegram_bot))]),e._v("，发送下面的数字/二维码验证码给它\n    ")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isTgtimeout?s("div",{key:"timeout",staticClass:"pure-g space-around"},[s("div",{staticClass:"auth-submit pure-u-18-24 tg-timeout"},[e._v("验证方式已过期，请刷新页面后重试")])]):s("div",{key:"notTimeout",staticClass:"pure-g pure-u-20-24"},[s("div",{staticClass:"text-center qr-center pure-u-11-24"},[s("div",{staticClass:"flex space-around",attrs:{id:"telegram-qr"}})]),s("div",{staticClass:"pure-u-11-24"},[s("div",{staticClass:"auth-submit",attrs:{id:"code_number"}},[e._v(e._s(e.globalConfig.login_number))])])])])],1):e._e()])},y=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",[e._v("Telegram OAuth一键登陆")])])}],w=(s("a481"),s("2f62")),S=s("cebc"),k={state:{userCon:"",baseURL:"",mergeSub:"false",ssrSubToken:"",subUrl:"",iosAccount:"",iosPassword:"",displayIosClass:"",ann:{content:"",date:"",id:"",markdown:""},sign:{isTrsfficRefreshed:!1,isSignShow:!1,transition:!1},userSettings:{pages:[{id:"user-resourse"},{id:"user-settings"}],currentPage:"user-resourse",currentPageIndex:0,resourse:[{name:"等级有效期",content:""},{name:"账号有效期",content:""},{name:"在线设备数",content:""},{name:"端口速率",content:""}],tipsLink:[{name:"端口",content:""},{name:"密码",content:""},{name:"加密",content:""},{name:"协议",content:""},{name:"混淆",content:""},{name:"混淆参数",content:""}]},currentDlType:"SSR",currentPlantformType:"WINDOWS"},mutations:{SET_USERCON:function(e,t){e.userCon=t},SET_USERMONEY:function(e,t){e.userCon.money=t},SET_INVITE_NUM:function(e,t){e.userCon.invite_num=t},SET_USERSETTINGS:function(e,t){e.userSettings.tipsLink[0].content=t.port,e.userSettings.tipsLink[1].content=t.passwd,e.userSettings.tipsLink[2].content=t.method,e.userSettings.tipsLink[3].content=t.protocol,e.userSettings.tipsLink[4].content=t.obfs,e.userSettings.tipsLink[5].content=t.obfs_param},ADD_NEWUSERCON:function(e,t){for(var s in t)n["a"].set(e.userCon,s,t[s])},SET_RESOURSE:function(e,t){e.userSettings.resourse[t.index].content=t.content},SET_ALLURESOURSE:function(e,t){for(var s in t)e.userCon[s]=t[s]},SET_CURRENT_DL_TYPE:function(e,t){e.currentDlType=t},SET_CURRENT_PLANTFORM_TYPE:function(e,t){e.currentPlantformType=t},SET_ALLBASECON:function(e,t){for(var s in t)n["a"].set(e,s,t[s])},SET_SIGNSET:function(e,t){for(var s in t)e.sign[s]=t[s]},SET_ANN:function(e,t){e.ann=t},SET_BASEURL:function(e,t){e.baseURL=t},SET_MERGESUB:function(e,t){e.mergeSub=t}},actions:{TraffictransTrigger:function(e,t){e.dispatch;var s=e.commit;e.state;s("SET_SIGNSET",{isTrsfficRefreshed:!0}),window.setTimeout(function(){s("SET_SIGNSET",{isTrsfficRefreshed:!1})},300)}}},T={state:{nodeList:"",nodeMuPortList:""},mutations:{SET_NODELIST:function(e,t){e.nodeList=t},SET_NODEMUPORTLIST:function(e,t){e.nodeMuPortList=t}},actions:{}};n["a"].use(w["a"]);var x,I=new w["a"].Store({state:{isLoading:"loading",wait:60,logintoken:!1,msgrCon:{msg:"操作成功",html:"",icon:"check-circle",isShow:!1},modalCon:{isMaskShow:!1,isCardShow:!1,title:"订单确认",bodyContent:""},globalConfig:{captchaProvider:"",recaptchaSiteKey:"",jumpDelay:"",isGetestSuccess:"",registMode:"",crisp:"",base_url:"",isEmailVeryify:"",login_token:"",login_number:"",telegram_bot:"",enable_telegram:"",enableLoginCaptcha:"",enableRegCaptcha:"",enableCheckinCaptcha:"",indexMsg:{appname:"",hitokoto:"",date:"",jinrishici:""},paymentType:""}},mutations:{SET_LOADSTATE:function(e){e.isLoading="loaded"},SET_LOGINTOKEN:function(e,t){e.logintoken=t},SET_MSGRCON:function(e,t){""!==e.msgrCon.html&&(e.msgrCon.html=""),e.msgrCon.msg=t.msg,e.msgrCon.icon=t.icon,e.msgrCon.html=t.html},ISSHOW_MSGR:function(e,t){e.msgrCon.isShow=t},ISSHOW_MODAL_MASK:function(e,t){e.modalCon.isMaskShow=t},ISSHOW_MODAL_CARD:function(e,t){e.modalCon.isCardShow=t},SET_GLOBALCONFIG:function(e,t){e.logintoken=t.isLogin,e.globalConfig.base_url=t.base_url,e.globalConfig.captchaProvider=t.captcha_provider,e.globalConfig.recaptchaSiteKey=t.recaptcha_sitekey,e.globalConfig.jumpDelay=t.jump_delay,e.globalConfig.isGetestSuccess=t.isGetestSuccess,e.globalConfig.registMode=t.register_mode,e.globalConfig.isEmailVeryify=t.enable_email_verify,e.globalConfig.enableLoginCaptcha=t.enable_logincaptcha,e.globalConfig.enableRegCaptcha=t.enable_regcaptcha,e.globalConfig.enableCheckinCaptcha=t.enable_checkin_captcha,e.globalConfig.enableFlag=t.enable_flag,e.globalConfig.login_token=t.login_token,e.globalConfig.login_number=t.login_number,e.globalConfig.telegram_bot=t.telegram_bot,e.globalConfig.crisp=t.enable_mylivechat,e.globalConfig.enable_telegram=t.enable_telegram,e.globalConfig.indexMsg.appname=t.appName,e.globalConfig.indexMsg.date=t.dateY,e.globalConfig.paymentType=t.payment_type},SET_HITOKOTO:function(e,t){e.globalConfig.indexMsg.hitokoto=t},SET_JINRISHICI:function(e,t){e.globalConfig.indexMsg.jinrishici=t}},actions:{CALL_MSGR:function(e,t){var s=e.dispatch,n=e.commit,i=e.state;!0===i.msgrCon.isShow?(n("ISSHOW_MSGR",!1),setTimeout(function(){s("CALL_MSGR",t)},300)):(n("SET_MSGRCON",t),n("ISSHOW_MSGR",!0),window.setTimeout(function(){n("ISSHOW_MSGR",!1)},t.time))},CALL_MODAL:function(e,t){var s=e.commit,n=e.state;!1===n.modalCon.isMaskShow?(s("ISSHOW_MODAL_MASK",!0),window.setTimeout(function(){s("ISSHOW_MODAL_CARD",!0)},300)):(s("ISSHOW_MODAL_CARD",!1),window.setTimeout(function(){s("ISSHOW_MODAL_MASK",!1)},300))}},modules:{userState:k,nodeState:T}}),N={store:I,computed:Object(w["d"])({msgrCon:"msgrCon",modalCon:"modalCon",globalConfig:"globalConfig",logintoken:"logintoken",isLoading:"isLoading",userCon:function(e){return e.userState.userCon},userSettings:function(e){return e.userState.userSettings},currentDlType:function(e){return e.userState.currentDlType},currentPlantformType:function(e){return e.userState.currentPlantformType},ssrSubToken:function(e){return e.userState.ssrSubToken},subUrl:function(e){return e.userState.subUrl},iosAccount:function(e){return e.userState.iosAccount},iosPassword:function(e){return e.userState.iosPassword},displayIosClass:function(e){return e.userState.displayIosClass},sign:function(e){return e.userState.sign},ann:function(e){return e.userState.ann},baseURL:function(e){return e.userState.baseURL},mergeSub:function(e){return e.userState.mergeSub}}),methods:Object(S["a"])({},Object(w["b"])({callMsgr:"CALL_MSGR",callModal:"CALL_MODAL",TraffictransTrigger:"TraffictransTrigger"}),Object(w["c"])({setGlobalConfig:"SET_GLOBALCONFIG",setHitokoto:"SET_HITOKOTO",setJinRiShiCi:"SET_JINRISHICI",setLoadState:"SET_LOADSTATE",setLoginToken:"SET_LOGINTOKEN",setUserMoney:"SET_USERMONEY",setInviteNum:"SET_INVITE_NUM",setReasourse:"SET_RESOURSE",setUserCon:"SET_USERCON",setUserSettings:"SET_USERSETTINGS",addNewUserCon:"ADD_NEWUSERCON",setAllResourse:"SET_ALLURESOURSE",setCurrentDlType:"SET_CURRENT_DL_TYPE",setCurrentPlantformType:"SET_CURRENT_PLANTFORM_TYPE",setAllBaseCon:"SET_ALLBASECON",setSignSet:"SET_SIGNSET",setAnn:"SET_ANN",setBaseUrl:"SET_BASEURL",setMergeSub:"SET_MERGESUB"}),{successCopied:function(){var e={msg:"复制成功！已将链接复制到剪贴板",icon:"check-circle",time:"1500"};this.callMsgr(e)},ajaxNotLogin:function(){var e={msg:"登录超时，请重新登录",icon:"times-circle",time:1500};this.callMsgr(e),this.setLoginToken(!1),this.$router.push("/")}})},R=s("768b"),P=(s("ac6a"),s("5df3"),function(e,t,s,n,i){var a={method:s,body:t,headers:{"content-type":"application/json"},credentials:n};return i&&(a.headers=i),fetch(e,a).then(function(e){return Promise.all([e.ok,e.status,e.json()])}).then(function(e){var t=Object(R["a"])(e,3),s=t[0],n=(t[1],t[2]);if(s)return n;throw new Error(JSON.stringify(n.error))}).catch(function(e){throw e})}),L=function(e,t){return fetch(e,{method:"GET",credentials:t}).then(function(e){return Promise.all([e.ok,e.status,e.json(),e.headers])}).then(function(e){var t=Object(R["a"])(e,4),s=t[0],n=(t[1],t[2]);t[3];if(s)return n;throw new Error(JSON.stringify(n.error))}).catch(function(e){throw e})},E=function(e,t,s,n){return P(e,t,"POST",s,n)},O={data:function(){return{validate:"",captcha:""}},methods:{loadCaptcha:function(e){null!==this.globalConfig.recaptchaSiteKey&&this.$nextTick(function(){this.grecaptchaRender(e)})},loadGT:function(e){"geetest"===this.globalConfig.captchaProvider&&this.$nextTick(function(){var t=this;L("/getCaptcha","include").then(function(s){var n={gt:s.GtSdk.gt,challenge:s.GtSdk.challenge,product:"embed"};parseInt(t.globalConfig.isGetestSuccess)?n.offline=0:n.offline=1;var i=t;window.initGeetest(n,function(t){t.appendTo(e),t.onSuccess(function(){i.validate=t.getValidate()}),i.captcha=t})})})},grecaptchaRender:function(e){var t=this;setTimeout(function(){window.grecaptcha&&window.grecaptcha.render?window.grecaptcha.render(e):t.grecaptchaRender(e)},300)}}},A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"flex align-center",attrs:{for:"remember_me"}},[s("span",{staticClass:"uim-check",class:{uimchecked:e.boxChecked}},[s("font-awesome-icon",{class:"uim-checkbox-icon",attrs:{icon:"check"}}),s("input",{staticClass:"uim-checkbox",attrs:{type:"checkbox"},domProps:{checked:e.isChecked},on:{click:e.setClass,change:function(t){return e.$emit("change",t.target.checked)}}})],1),s("span",{staticClass:"uim-check-content"},[e._t("content")],2)])},M=[],G={model:{prop:"isChecked",event:"change"},props:["isChecked"],data:function(){return{boxChecked:!1}},methods:{setClass:function(){!1===this.boxChecked?this.boxChecked=!0:this.boxChecked=!1}}},D=G,j=(s("8638"),Object(d["a"])(D,A,M,!1,null,null,null)),U=j.exports,B={mixins:[N,O],components:{"uim-checkbox":U},computed:Object(w["d"])({telegramHref:function(){return"https://t.me/"+this.globalConfig.telegram_bot},isTgEnabled:function(){return"true"===this.globalConfig.enable_telegram}}),data:function(){return{email:"",passwd:"",stepcode:"",remember_me:!1,isDisabled:!1,isTgtimeout:!1}},methods:{login:function(){var e=this;this.isDisabled=!0;var t={email:this.email,passwd:this.passwd,code:this.stepcode,remember_me:this.remember_me},s={msg:"",icon:"",time:1e3};if(!0===this.globalConfig.enableLoginCaptcha)switch(this.globalConfig.captchaProvider){case"recaptcha":t.recaptcha=window.grecaptcha.getResponse();break;case"geetest":""!==this.validate?(t.geetest_challenge=this.validate.geetest_challenge,t.geetest_validate=this.validate.geetest_validate,t.geetest_seccode=this.validate.geetest_seccode):s.msg+="请滑动验证码来完成验证。";break}E("/auth/login",JSON.stringify(t),"include").then(function(t){1===t.ret?(s.msg+="登录成功Kira~",s.icon+="check-circle",e.callMsgr(s),window.setTimeout(function(){e.setLoginToken(!0),e.$router.replace("/user/panel")},e.globalConfig.jumpDelay)):(s.msg="登录失败Boommm,".concat(t.msg),s.icon+="times-circle",e.callMsgr(s),window.setTimeout(function(){e.isDisabled=!1},3e3))})},telegramRender:function(){var e=document.createElement("script");document.getElementById("telegram-login-box").append(e),e.onload=function(){document.getElementById("telegram-alert").outerHTML=""},e.src="https://telegram.org/js/telegram-widget.js?4",e.setAttribute("data-size","large"),e.setAttribute("data-telegram-login",this.globalConfig.telegram_bot),e.setAttribute("data-auth-url",this.globalConfig.base_url+"/auth/telegram_oauth"),e.setAttribute("data-request-access","write");var t="mod://login/"+this.globalConfig.login_token,s=new window.QRCode(document.getElementById("telegram-qr"));s.clear(),s.makeCode(t)},tgAuthTrigger:function(e){var t=this;if(1!==this.logintoken){var s={msg:"",icon:"",time:1e3};E("/auth/qrcode_check",JSON.stringify({token:this.globalConfig.login_token,number:this.globalConfig.login_number}),"include").then(function(n){n.ret>0?(clearTimeout(e),E("/auth/qrcode_login",JSON.stringify({token:t.globalConfig.login_token,number:t.globalConfig.login_number}),"include").then(function(e){e.ret&&(s.msg+="登录成功Kira~",s.icon+="check-circle",t.callMsgr(s),window.setTimeout(function(){t.setLoginToken(!0),t.$router.replace("/user/panel")},t.globalConfig.jumpDelay))})):-1===n.ret&&(t.isTgtimeout=!0)}).catch(function(t){throw clearTimeout(e),t}),e=setTimeout(function(){t.tgAuthTrigger(e)},2500)}},loginBindEnter:function(e){"/auth/login"===this.$route.path&&13===e.keyCode&&this.login()}},mounted:function(){var e=this;if(document.addEventListener("keyup",this.loginBindEnter,!1),"true"===this.globalConfig.enable_telegram){this.telegramRender();var t=setTimeout(function(){e.tgAuthTrigger(t)},2500)}!1!==this.globalConfig.enableLoginCaptcha&&(this.loadCaptcha("g-recaptcha-login"),this.loadGT("#embed-captcha-login"))},beforeRouteLeave:function(e,t,s){document.removeEventListener("keyup",this.loginBindEnter,!1),s()}},$=B,W=(s("d6db"),Object(d["a"])($,b,y,!1,null,null,null)),Q=W.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-auth pure-g pure-u-1 pure-u-sm-20-24"},[s("div",{staticClass:"title-back flex align-center"},[e._v("REGISTER")]),s("h1",[e._v("账号注册")]),s("div",{staticClass:"flex space-around reg"},[s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"usrname"}},[e._v("昵称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.usrname,expression:"usrname"}],attrs:{type:"text",name:"usrname"},domProps:{value:e.usrname},on:{input:function(t){t.target.composing||(e.usrname=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"email"}},[e._v("邮箱(唯一凭证请认真对待)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"password"}},[e._v("密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwd,expression:"passwd"}],attrs:{type:"password",name:"password"},domProps:{value:e.passwd},on:{input:function(t){t.target.composing||(e.passwd=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"repasswd"}},[e._v("重复密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.repasswd,expression:"repasswd"}],attrs:{type:"password",name:"repasswd"},domProps:{value:e.repasswd},on:{input:function(t){t.target.composing||(e.repasswd=t.target.value)}}})]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"imtype"}},[e._v("选择您的联络方式")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.imtype,expression:"imtype"}],attrs:{name:"imtype",id:"imtype"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.imtype=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[e._v("微信")]),s("option",{attrs:{value:"2"}},[e._v("QQ")]),s("option",{attrs:{value:"3"}},[e._v("Facebook")]),s("option",{attrs:{value:"4"}},[e._v("Telegram")])])]),s("div",{staticClass:"input-control flex wrap"},[s("label",{attrs:{for:"contect"}},[e._v("联络方式账号")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.contect,expression:"contect"}],attrs:{type:"text",name:"contect"},domProps:{value:e.contect},on:{input:function(t){t.target.composing||(e.contect=t.target.value)}}})]),"invite"===e.globalConfig.registMode?s("div",{staticClass:"input-control flex"},[s("label",{attrs:{for:"code"}},[e._v("邀请码(必填)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",name:"code"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]):e._e(),!0===e.globalConfig.isEmailVeryify?s("div",{staticClass:"input-control flex twin"},[s("div",{staticClass:"input-control-inner flex"},[s("label",{attrs:{for:"email_code"}},[e._v("邮箱验证码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email_code,expression:"email_code"}],attrs:{type:"text",name:"email_code"},domProps:{value:e.email_code},on:{input:function(t){t.target.composing||(e.email_code=t.target.value)}}})]),s("button",{staticClass:"auth-submit",attrs:{disabled:e.isVmDisabled},on:{click:e.sendVerifyMail}},[e._v(e._s(e.vmText))])]):e._e(),!0===e.globalConfig.enableRegCaptcha?s("div",{staticClass:"input-control wrap flex align-center"},["geetest"===e.globalConfig.captchaProvider?s("div",{attrs:{id:"embed-captcha-reg"}}):e._e(),s("form",{attrs:{action:"?",method:"POST"}},[e.globalConfig.recaptchaSiteKey?s("div",{staticClass:"g-recaptcha",attrs:{id:"g-recaptcha-reg","data-theme":"dark","data-sitekey":e.globalConfig.recaptchaSiteKey}}):e._e()])]):e._e()]),s("button",{staticClass:"auth-submit",attrs:{id:"register",type:"submit",disabled:e.isDisabled},on:{click:e.register}},[e._v("确认注册")])])},F=[],K=(s("28a5"),{mixins:[N,O],data:function(){return{usrname:"",email:"",passwd:"",repasswd:"",contect:"",code:"",imtype:"",email_code:"",isDisabled:!1,vmText:"获取邮箱验证码",isVmDisabled:!1}},methods:{register:function(){var e=this;this.isDisabled=!0;var t={email:this.email,name:this.usrname,passwd:this.passwd,repasswd:this.repasswd,wechat:this.contect,imtype:this.imtype,code:this.code},s={msg:"",icon:"",time:1e3};if(!0===this.globalConfig.isEmailVeryify&&(t.emailcode=this.email_code),"invite"!==this.globalConfig.registMode&&(t.code=0,""!==this.getCookie("code")&&(t.code=this.getCookie("code"))),!0===this.globalConfig.enableRegCaptcha)switch(this.globalConfig.captchaProvider){case"recaptcha":t.recaptcha=window.grecaptcha.getResponse();break;case"geetest":""!==this.validate?(t.geetest_challenge=this.validate.geetest_challenge,t.geetest_validate=this.validate.geetest_validate,t.geetest_seccode=this.validate.geetest_seccode):s.msg+="请滑动验证码来完成验证。";break}E("/auth/register",JSON.stringify(t),"include").then(function(t){1===t.ret?(s.msg="注册成功meow~",s.icon="check-circle",e.callMsgr(s),window.setTimeout(function(){e.$router.replace("/auth/login")},e.globalConfig.jumpDelay)):(s.msg="WTF……注册失败,".concat(t.msg),s.icon+="times-circle",e.callMsgr(s),window.setTimeout(function(){e.isDisabled=!1},3e3))})},getQueryVariable:function(e){var t=window.location.hash.substring(1).split("?")[1];if("undefined"===typeof t)return"";for(var s=t.split("&"),n=0;n<s.length;n++){var i=s[n].split("=");if(i[0]===e)return i[1]}return""},setCookie:function(e,t,s){var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3);var i="expires="+n.toGMTString();document.cookie=e+"="+t+"; "+i},getCookie:function(e){for(var t=e+"=",s=document.cookie.split(";"),n=0;n<s.length;n++){var i=s[n].trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},time:function(e){var t=this;0===e?(this.isVmDisabled=!1,this.vmText="获取验证码",e=60):(this.isVmDisabled=!0,this.vmText="重新发送("+e+")",e-=1,setTimeout(function(){t.time(e)},1e3))},sendVerifyMail:function(){var e=this,t=I.state.wait;this.time(t);var s={email:this.email};E("auth/send",JSON.stringify(s),"omit").then(function(t){if(t.ret){var s={msg:"biu~邮件发送成功",icon:"check-circle",time:1e3};e.callMsgr(s)}else{var n={msg:"emm……邮件发送失败",icon:"times-circle",time:1e3};e.callMsgr(n)}})},registerBindEnter:function(e){"/auth/register"===this.$route.path&&13===e.keyCode&&this.register()}},mounted:function(){""!==this.getQueryVariable("code")&&(this.setCookie("code",this.getQueryVariable("code"),30),this.$router.replace("/auth/register")),"invite"===this.globalConfig.registMode&&""!==this.getCookie("code")&&(this.code=this.getCookie("code")),document.addEventListener("keyup",this.registerBindEnter,!1),!1!==this.globalConfig.enableRegCaptcha&&(this.loadCaptcha("g-recaptcha-reg"),this.loadGT("#embed-captcha-reg"))},beforeRouteLeave:function(e,t,s){document.removeEventListener("keyup",this.registerBindEnter,!1),s()}}),V=K,J=Object(d["a"])(V,q,F,!1,null,null,null),H=J.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pw pure-g"},[s("router-view")],1)},z=[],X={mixins:[N]},Z=X,ee=Object(d["a"])(Z,Y,z,!1,null,null,null),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-pw pure-u-1 pure-g flex align-center space-around wrap"},[s("div",{staticClass:"title-back flex align-center"},[e._v("PASSWORD")]),s("div",{staticClass:"pure-u-1 pure-u-sm-10-24 flex space-around wrap basis-max"},[s("h1",[e._v("密码重置")]),s("div",{staticClass:"input-control flex wrap"},[s("label",{staticClass:"flex space-between align-center",attrs:{for:"Email"}},[s("span",[e._v("邮箱")]),s("span",[s("router-link",{staticClass:"button-index",attrs:{to:"/auth/login"}},[s("font-awesome-icon",{attrs:{icon:"share"}}),e._v(" 返回登录页\n          ")],1)],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("button",{staticClass:"auth-submit",attrs:{id:"reset",type:"submit",disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),e.reset(t)}},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.reset(t):null}}},[e._v("重置密码")])])])},ne=[],ie={mixins:[N],data:function(){return{email:"",isDisabled:!1}},methods:{reset:function(){var e=this,t={msg:"",icon:"",time:1e3};E("/password/reset",JSON.stringify({email:this.email}),"omit").then(function(s){1===s.ret?(t.msg+="邮件发送成功kira~",t.icon+="check-circle",e.callMsgr(t),window.setTimeout(function(){e.$router.push("/auth/login")},e.globalConfig.jumpDelay)):(t.msg+="WTF……邮件发送失败，请检查邮箱地址",t.icon+="times-circle",e.callMsgr(t),window.setTimeout(function(){e.isDisabled=!1},3e3))})}}},ae=ie,oe=Object(d["a"])(ae,se,ne,!1,null,null,null),re=oe.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user pure-g"},[s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("router-view")],1)],1)},ue=[],le={props:["routermsg"]},de=le,pe=Object(d["a"])(de,ce,ue,!1,null,null,null),me=pe.exports,fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-user pure-u-1"},[s("div",{staticClass:"title-back flex align-center"},[e._v("USERCENTER")]),s("transition",{attrs:{name:"loading-fadex",mode:"out-in"}},["beforeload"===e.userLoadState?s("div",{staticClass:"loading flex align-center"},[e._v("\n      USERCENTER\n    ")]):"loading"===e.userLoadState?s("div",{key:"loading",staticClass:"loading flex align-center"},[s("div",{staticClass:"spinnercube"},[s("div",{staticClass:"cube1"}),s("div",{staticClass:"cube2"})])]):"loaded"===e.userLoadState?s("div",{staticClass:"usrcenter text-left pure-g space-around"},[s("div",{staticClass:"pure-u-1 pure-u-xl-6-24 pure-g usrcenter-left"},[s("div",{staticClass:"pure-u-1 pure-u-sm-8-24 pure-u-xl-1 card account-base"},[s("div",{staticClass:"flex space-between"},[s("div",{staticClass:"card-title"},[e._v("账号明细")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"pure-g"},[s("div",{staticClass:"pure-u-1-2 pure-u-sm-1 pure-u-xl-1-2"},[s("p",{staticClass:"tips tips-blue"},[e._v("用户名")]),s("p",{staticClass:"font-light"},[e._v(e._s(e.userCon.user_name))]),s("p",{staticClass:"tips tips-blue"},[e._v("邮箱")]),s("p",{staticClass:"font-light"},[e._v(e._s(e.userCon.email))])]),s("div",{staticClass:"pure-u-1-2 pure-u-sm-1 pure-u-xl-1-2"},[s("p",{staticClass:"tips tips-blue"},[e._v("VIP等级")]),s("p",{staticClass:"font-light"},[s("span",{staticClass:"user-config",class:{"font-gold-trans":e.userResourseTrans}},[e._v("Lv. "+e._s(e.userCon.class))])]),s("p",{staticClass:"tips tips-blue"},[e._v("余额")]),s("p",{staticClass:"font-light"},[s("span",{staticClass:"user-config",class:{"font-red-trans":e.userCreditTrans}},[e._v(e._s(e.userCon.money))])])])])])]),s("div",{staticClass:"pure-u-1 pure-u-sm-15-24 pure-u-xl-1 card quickset margin-nobottom-xl"},[s("div",{staticClass:"card-title"},[e._v("快速配置")]),s("div",{staticClass:"card-body user-quickset"},[s("div",{staticClass:"pure-g"},[e._l(e.downloads,function(t){return s("button",{key:t.type,staticClass:"pure-u-1-3 btn-user dl-type",class:{"index-btn-active":e.currentDlType===t.type},attrs:{"data-type":t.type},on:{click:e.changeAgentType}},[e._v("\n                "+e._s(t.type)+"\n              ")])}),s("h5",{staticClass:"pure-u-1"},[e._v("平台选择/客户端下载")]),s("transition",{attrs:{name:"rotate-fade",mode:"out-in"}},[s("div",{key:e.typeToken.tagkey,staticClass:"pure-g dl-link"},e._l(e.downloads[e.typeToken.arrIndex].agent,function(t,n){return s("uim-dropdown",{key:n,staticClass:"pure-u-1-3 btn-user",scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[e._v(e._s(n))]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(t,function(t){return s("li",{key:t.id},[s("a",{attrs:{href:t.href}},[e._v(e._s(t.agentName))])])})},proxy:!0}],null,!0)})}),1)]),s("h5",{staticClass:"pure-u-1 flex align-center space-between"},[s("span",[e._v("订阅链接")]),s("span",{staticClass:"link-reset relative flex justify-center text-center"},[s("button",{staticClass:"tips tips-red",on:{click:function(t){return e.showToolTip("resetConfirm")}}},[s("font-awesome-icon",{attrs:{icon:"sync-alt"}}),e._v(" 重置链接\n                  ")],1),s("uim-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.toolTips.resetConfirm,expression:"toolTips.resetConfirm"}],staticClass:"uim-tooltip-top flex justify-center",scopedSlots:e._u([{key:"tooltip-inner",fn:function(){return[s("span",[e._v("确定要重置订阅链接？")]),s("div",[s("button",{staticClass:"tips tips-green",on:{click:e.resetSubscribLink}},[s("font-awesome-icon",{attrs:{icon:"check","fixed-width":""}})],1),s("button",{staticClass:"tips tips-red",on:{click:function(t){return e.hideToolTip("resetConfirm")}}},[s("font-awesome-icon",{attrs:{icon:"times","fixed-width":""}})],1)])]},proxy:!0}])})],1)]),s("transition",{attrs:{name:"rotate-fade",mode:"out-in"}},[s("div",{key:e.typeToken.subKey,staticClass:"input-copy"},[s("div",{staticClass:"pure-g align-center relative"},[s("span",{staticClass:"pure-u-6-24"},[e._v(e._s(e.ssrlinkTitle))]),s("span",{staticClass:"pure-u-18-24 pure-g relative flex justify-center text-center"},[s("input",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue pure-u-1",class:{"sublink-reset":e.subLinkTrans},attrs:{"data-uimclip":e.typeToken.subUrl,type:"text",name:"",id:"",readonly:""},domProps:{value:e.typeToken.subUrl},on:{mouseenter:function(t){return e.showToolTip(e.typeToken.muType)},mouseleave:function(t){return e.hideToolTip(e.typeToken.muType)}}}),s("uim-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.toolTips[e.typeToken.muType],expression:"toolTips[typeToken.muType]"}],staticClass:"uim-tooltip-top flex justify-center",scopedSlots:e._u([{key:"tooltip-inner",fn:function(){return[s("span",[e._v(e._s(e.typeToken.subUrl))])]},proxy:!0}])})],1)]),"SSR"===e.currentDlType&&!0!==e.mergeSub?s("div",{staticClass:"pure-g align-center relative"},[s("span",{staticClass:"pure-u-6-24"},[e._v("单端口:")]),s("span",{staticClass:"pure-u-18-24 pure-g relative flex justify-center text-center"},[s("input",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue pure-u-1",class:{"sublink-reset":e.subLinkTrans},attrs:{"data-uimclip":e.suburlMu1,type:"text",name:"",id:"",readonly:""},domProps:{value:e.suburlMu1},on:{mouseenter:function(t){return e.showToolTip("mu1")},mouseleave:function(t){return e.hideToolTip("mu1")}}}),s("uim-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.toolTips.mu1,expression:"toolTips.mu1"}],staticClass:"uim-tooltip-top flex justify-center",scopedSlots:e._u([{key:"tooltip-inner",fn:function(){return[s("span",[e._v(e._s(e.suburlMu1))])]},proxy:!0}],null,!1,1619061483)})],1)]):e._e(),"SSR"===e.currentDlType?s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-cyan btn-copy",attrs:{"data-uimclip":e.userCon.ssr_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" \n                    "),!0!==e.mergeSub?s("span",[e._v("复制所有普通端口链接")]):s("span",[e._v("复制所有节点链接")])],1):e._e(),"SSR"===e.currentDlType&&!0!==e.mergeSub?s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-cyan btn-copy",attrs:{"data-uimclip":e.userCon.ssr_url_all_mu}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 复制所有单端口链接\n                  ")],1):e._e(),"SS/SSD"===e.currentDlType?s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-cyan btn-copy",attrs:{"data-uimclip":e.userCon.ssd_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 复制所有节点链接\n                  ")],1):e._e(),"V2RAY"===e.currentDlType?s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-cyan btn-copy",attrs:{"data-uimclip":e.userCon.vmess_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 复制所有vmess链接\n                  ")],1):e._e()])])],2)])])]),s("div",{staticClass:"pure-u-1 pure-u-xl-17-24"},[s("div",{staticClass:"card relative"},[s("uim-anchor",{scopedSlots:e._u([{key:"uim-anchor-inner",fn:function(){return e._l(e.userSettings.pages,function(t,n){return s("li",{key:t.id,class:{"uim-anchor-active":e.userSettings.currentPage===t.id},attrs:{"data-page":t.id},on:{click:function(t){return e.changeUserSetPage(n)}}})})},proxy:!0}])}),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("keep-alive",[s(e.userSettings.currentPage,{tag:"component",staticClass:"settiings-toolbar card margin-nobottom",attrs:{resourseTrans:e.userResourseTrans,initialSet:e.userSettings},on:{turnPageByWheel:e.scrollPage}})],1)],1)],1),s("div",{staticClass:"user-btngroup pure-g"},[s("div",{staticClass:"pure-u-1-2 btngroup-left"},[s("uim-dropdown",{attrs:{"show-arrow":""},scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{key:e.currentCardComponent},[e._v("\n                    "+e._s(e.menuOptions[e.currentCardComponentIndex].name)+"\n                  ")])])]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(e.menuOptions,function(t){return s("li",{key:t.id,attrs:{"data-component":t.id},on:{click:e.componentChange}},[e._v("\n                  "+e._s(t.name)+"\n                ")])})},proxy:!0}])}),!0===e.userCon.is_admin?s("a",{staticClass:"btn-user",attrs:{href:"/admin"}},[e._v("运营中心")]):e._e()],1),s("div",{staticClass:"pure-u-1-2 text-right btngroup-right"},[s("a",{staticClass:"btn-user",attrs:{href:"/user"}},[e._v("管理面板")]),s("button",{staticClass:"btn-user",on:{click:e.logout}},[e._v("账号登出")])])]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s(e.currentCardComponent,{tag:"component",staticClass:"card margin-nobottom",attrs:{baseURL:e.baseUrl},on:{guideToShop:e.componentChange,resourseTransTrigger:function(t){return e.showTransition("userResourseTrans")}}},[s("button",{staticClass:"btn-inline text-red",attrs:{slot:"inviteToShop","data-component":e.menuOptions[3].id},on:{click:e.componentChange},slot:"inviteToShop"},[e._v("\n              成为VIP请点击这里\n            ")])])],1)],1)]):e._e()])],1)},he=[],ge={computed:{suburlBase:function(){return this.subUrl+this.ssrSubToken},suburlMu0:function(){return this.suburlBase+"?mu=0"},suburlMu1:function(){return this.suburlBase+"?mu=1"},suburlMu3:function(){return this.suburlBase+"?mu=3"},suburlMu2:function(){return this.suburlBase+"?mu=2"}},data:function(){return{downloads:[{type:"SSR",agent:{Windows:[{agentName:"SSR",href:"/ssr-download/ssr-win.7z",id:"AGENT_1_1_1"},{agentName:"SSTAP",href:"/ssr-download/SSTap.7z",id:"AGENT_1_1_2"}],Macos:[{agentName:"SSX",href:"/ssr-download/ssr-mac.dmg",id:"AGENT_1_2_1"}],Linux:[{agentName:"SS-qt5",href:"#",id:"AGENT_1_3_1"}],iOS:[{agentName:"Potatso Lite",href:"#",id:"AGENT_1_4_1"},{agentName:"Shadowrocket",href:"#",id:"AGENT_1_4_2"}],Android:[{agentName:"SSR",href:"/ssr-download/ssr-android.apk",id:"AGENT_1_5_1"},{agentName:"SSRR",href:"/ssr-download/ssrr-android.apk",id:"AGENT_1_5_2"}],Router:[{agentName:"FancySS",href:"https://github.com/hq450/fancyss_history_package",id:"AGENT_1_6_1"}]}},{type:"SS/SSD",agent:{Windows:[{agentName:"SSD",href:"/ssr-download/ssd-win.7z",id:"AGENT_2_1_1"}],Macos:[{agentName:"SSXG",href:"/ssr-download/ss-mac.zip",id:"AGENT_2_2_1"}],Linux:[{agentName:"/",href:"#",id:"AGENT_2_3_1"}],Ios:[{agentName:"Potatso Lite",href:"#",id:"AGENT_2_4_1"},{agentName:"Shadowrocket",href:"#",id:"AGENT_2_4_2"}],Android:[{agentName:"SSD",href:"/ssr-download/ssd-android.apk",id:"AGENT_2_5_1"},{agentName:"混淆插件",href:"/ssr-download/ss-android-obfs.apk",id:"AGENT_2_5_2"}],Router:[{agentName:"FancySS",href:"https://github.com/hq450/fancyss_history_package",id:"AGENT_2_6_1"}]}},{type:"V2RAY",agent:{Windows:[{agentName:"V2RayN",href:"/ssr-download/v2rayn.zip",id:"AGENT_3_1_1"},{agentName:"ClashX",href:"/ssr-download/Clash-Windows.7z",id:"AGENT_3_1_2"}],Macos:[{agentName:"/",href:"#",id:"AGENT_3_2_1"}],Linux:[{agentName:"/",href:"#",id:"AGENT_3_3_1"}],Ios:[{agentName:"Shadowrocket",href:"#",id:"AGENT_3_4_1"}],Android:[{agentName:"V2RayN",href:"/ssr-download/v2rayng.apk",id:"AGENT_3_5_1"}],Router:[{agentName:"FancySS",href:"https://github.com/hq450/fancyss_history_package",id:"AGENT_3_6_1"}]}}]}},methods:{changeAgentType:function(e){this.setCurrentDlType(e.target.dataset.type)}}},ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"card-title"},[e._v("公告栏")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"ann",domProps:{innerHTML:e._s(e.ann.content)}})])])},_e=[],Ce={methods:{reConfigResourse:function(){var e=this;L("/getallresourse","include").then(function(t){1===t.ret?e.updateUserSet(t.resourse):e.ajaxNotLogin()})},updateUserSet:function(e){this.setAllResourse(e)}}},be={mixins:[Ce,N]},ye=be,we=Object(d["a"])(ye,ve,_e,!1,null,null,null),Se=we.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"user-invite-title pure-g"},[s("div",{staticClass:"pure-u-1-2 pure-u-sm-18-24 flex align-center wrap"},[s("div",{staticClass:"card-title"},[e._v("邀请链接")]),s("div",{staticClass:"user-invite-subtitle"},[s("div",{staticClass:"relative flex align-center justify-center text-center"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("label",{directives:[{name:"show",rawName:"v-show",value:e.showToolInput,expression:"showToolInput"}],staticClass:"relative",attrs:{for:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.toolInputContent,expression:"toolInputContent"}],staticClass:"coupon-checker tips tips-blue",attrs:{"data-type":e.toolInputType,type:"text",placeholder:e.placeholder},domProps:{value:e.toolInputContent},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.submitToolInput(t):null},input:function(t){t.target.composing||(e.toolInputContent=t.target.value)}}}),s("button",{staticClass:"btn-forinput",attrs:{name:"check"},on:{click:e.submitToolInput}},[s("font-awesome-icon",{attrs:{icon:"arrow-up"}})],1),s("button",{staticClass:"btn-forinput",attrs:{name:"reset"},on:{click:e.hideToolInput}},[s("font-awesome-icon",{attrs:{icon:"sync-alt"}})],1)])]),s("uim-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.showOrderCheck,expression:"showOrderCheck"}],staticClass:"uim-tooltip-top flex justify-center",scopedSlots:e._u([{key:"tooltip-inner",fn:function(){return["buy"===e.toolInputType?s("span",[s("div",[e._v("\n                  确认购买\n                  "),s("span",{staticClass:"text-red"},[e._v(e._s(e.toolInputContent))]),e._v(" 个吗？总价为\n                  "),s("span",{staticClass:"text-red"},[e._v("￥"+e._s(e.totalPrice))])])]):e._e(),"custom"===e.toolInputType?s("span",[e._v("\n                确认定制链接后缀为\n                "),s("span",{staticClass:"text-red"},[e._v(e._s(e.toolInputContent))]),e._v(" 吗？价格为\n                "),s("span",{staticClass:"text-red"},[e._v("￥"+e._s(e.customPrice))])]):e._e(),s("div",[s("button",{staticClass:"tips tips-green",on:{click:e.submitOrder}},[s("font-awesome-icon",{attrs:{icon:"check","fixed-width":""}})],1),s("button",{staticClass:"tips tips-red",on:{click:e.hideOrderCheck}},[s("font-awesome-icon",{attrs:{icon:"times","fixed-width":""}})],1)])]},proxy:!0}])})],1),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showToolInput,expression:"showToolInput"}],staticClass:"toolinput-state"},["buy"===e.toolInputType?s("div",{key:"buy",staticClass:"flex align-center"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"buy"===e.toolInputType,expression:"toolInputType === 'buy'"}],staticClass:"tips tips-green"},[e._v("￥"+e._s(e.invitePrice)+"/次")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"buy"===e.toolInputType,expression:"toolInputType === 'buy'"}],staticClass:"tips tips-gold"},[e._v("总价：￥"+e._s(e.totalPrice))])]):s("div",{key:"custom",staticClass:"flex align-center"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"custom"===e.toolInputType,expression:"toolInputType === 'custom'"}],staticClass:"tips tips-green"},[e._v("价格：￥"+e._s(e.customPrice))])])])])],1)]),s("transition",{attrs:{name:"fade"}},[e.showInviteLog?s("div",{staticClass:"pure-u-1-2 pure-u-sm-6-24 flex-end flex align-center"},[s("button",{staticClass:"btn-user",on:{click:e.closeInviteLog}},[s("font-awesome-icon",{attrs:{icon:"reply"}}),e._v(" 返回\n        ")],1)]):e._e()])],1),s("div",{staticClass:"card-body"},[s("div",{staticClass:"user-invite"},[0!==e.userCon.class?s("div",[s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showInviteLog?s("div",{key:"viewLog"},[s("div",{staticClass:"user-table-container"},[s("uim-table",{scopedSlots:e._u([{key:"uim-th",fn:function(){return[s("th",[e._v("ID")]),s("th",[e._v("被邀请用户ID")]),s("th",[e._v("获得返利")])]},proxy:!0},{key:"uim-tbd",fn:function(){return e._l(e.paybacks.data,function(t,n){return s("tr",{key:n+t.id,staticClass:"uim-tr-body"},[s("td",[e._v(e._s(t.id))]),s("td",[e._v(e._s(t.userid))]),s("td",[e._v("￥"+e._s(t.ref_get))])])})},proxy:!0}],null,!1,4093406633)})],1),s("div",{staticClass:"uim-pagenation-container"},[s("uim-pagenation",{attrs:{pageinfo:e.pagenation},on:{turnPage:e.turnInviteLogPage}})],1)]):s("div",{key:"closeLog"},[s("div",{staticClass:"flex align-center wrap"},[s("input",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"invite-link tips tips-blue",class:{"invite-reset":e.inviteLinkTrans},attrs:{type:"text","data-uimclip":e.inviteLink,readonly:""},domProps:{value:e.inviteLink}}),s("span",{staticClass:"invite-tools link-reset relative flex justify-center text-center"},[s("button",{staticClass:"tips tips-red",on:{click:e.showInviteReset}},[s("font-awesome-icon",{attrs:{icon:"sync-alt"}}),e._v(" 重置\n                ")],1),s("uim-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.inviteResetConfirm,expression:"inviteResetConfirm"}],staticClass:"uim-tooltip-top flex justify-center",scopedSlots:e._u([{key:"tooltip-inner",fn:function(){return[s("span",[e._v("确定要重置邀请链接？")]),s("div",[s("button",{staticClass:"tips tips-green",on:{click:e.resetInviteLink}},[s("font-awesome-icon",{attrs:{icon:"check","fixed-width":""}})],1),s("button",{staticClass:"tips tips-red",on:{click:e.hideInviteReset}},[s("font-awesome-icon",{attrs:{icon:"times","fixed-width":""}})],1)])]},proxy:!0}],null,!1,4198208193)})],1),e.customPrice>=0?s("span",{staticClass:"invite-tools relative flex justify-center text-center"},[s("button",{staticClass:"tips tips-cyan",attrs:{disabled:e.isToolDisabled},on:{click:e.showCustomToolInput}},[s("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),e._v(" 定制\n                ")],1)]):e._e()]),s("h5",[e._v("\n              邀请链接剩余次数：\n              "),s("span",{staticClass:"invite-number tips tips-gold",class:{"tips-gold-trans":e.inviteTimeTrans}},[e._v(e._s(e.userCon.invite_num)+"次")]),e.invitePrice>=0?s("span",[s("button",{staticClass:"invite-number tips tips-green",attrs:{disabled:e.isToolDisabled},on:{click:e.showBuyToolInput}},[s("font-awesome-icon",{attrs:{icon:"yen-sign"}}),e._v(" 购买\n                ")],1)]):e._e()]),s("h5",[e._v("\n              每邀请1位用户注册，您会获得\n              "),s("span",{staticClass:"tips tips-sm tips-cyan"},[e._v(e._s(e.invite_gift)+"G")]),e._v(" 流量奖励\n            ")]),s("h5",[e._v("\n              对方将获得\n              "),s("span",{staticClass:"tips tips-sm tips-cyan"},[e._v("￥"+e._s(e.invite_get_money))]),e._v(" 作为初始资金\n            ")]),s("h5",[e._v("\n              对方充值时您还会获得对方充值金额\n              "),s("span",{staticClass:"tips tips-sm tips-cyan"},[e._v(e._s(e.code_payback)+"%")]),e._v(" 的返利\n            ")]),s("h4",[e._v("\n              已获得返利：\n              "),s("span",{staticClass:"tips tips-cyan"},[e._v("￥"+e._s(e.paybacks_sum))])]),s("button",{staticClass:"tips tips-gold",on:{click:e.checkInviteLog}},[e._v("查看返利明细")])])])],1):s("div",[s("h3",[e._v("\n          "+e._s(e.userCon.user_name)+"，您不是VIP暂时无法使用邀请链接，\n          "),e._t("inviteToShop")],2)])])])])},Te=[],xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{staticClass:"uim-tooltip"},[s("div",{staticClass:"tooltip-inner"},[e._t("tooltip-inner")],2)])])},Ie=[],Ne={},Re=Ne,Pe=(s("c9e6"),Object(d["a"])(Re,xe,Ie,!1,null,null,null)),Le=Pe.exports,Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",{staticClass:"uim-table"},[s("tr",{staticClass:"uim-tr-head"},[e._t("uim-th")],2),s("transition-group",{staticClass:"relative",attrs:{name:"list-fade",tag:"tbody"}},[e._t("uim-tbd")],2)],1)},Oe=[],Ae={},Me=Ae,Ge=(s("ec00"),Object(d["a"])(Me,Ee,Oe,!1,null,null,null)),De=Ge.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-pagenation"},[s("button",{staticClass:"uim-pagination-btn",on:{click:function(t){return e.setCurrentPage(e.prev)}}},[s("font-awesome-icon",{attrs:{icon:"angle-left"}})],1),e._l(e.buttonList,function(t){return s("button",{key:t,staticClass:"uim-pagination-btn",class:{"uim-pagination-btn-active":t.isActive},on:{click:function(s){return e.setCurrentPage(t.num)}}},[e._v(e._s(t.num))])}),s("button",{staticClass:"uim-pagination-btn",on:{click:function(t){return e.setCurrentPage(e.next)}}},[s("font-awesome-icon",{attrs:{icon:"angle-right"}})],1)],2)},Ue=[],Be=(s("1c4c"),{name:"uim-pagenation",props:["pageinfo"],computed:{prev:function(){return this.currentPage-1>0?this.currentPage-1:1},next:function(){return this.currentPage+1<=this.pageinfo.lastPage?this.currentPage+1:this.pageinfo.lastPage}},data:function(){return{buttonList:"",currentPage:1,prevPage:1}},methods:{getButtonList:function(){var e=this,t=this.pageinfo.lastPage?this.pageinfo.lastPage:1,s=this.currentPage;if(t<=6){var n=new Array(t);this.buttonList=Array.from(n).map(function(t,s){var n={num:s+1,isActive:!1};return e.currentPage===n.num&&(n.isActive=!0),n})}else{var i=new Promise(function(n,i){if(s<6)e.buttonList=[1,2,3,4,5,6,"···",t];else if(s>=6&&s<=t-5)e.buttonList=[1,"···",s-2,s-1,s,s+1,s+2,"···",t];else if(s>t-5){var a=new Array(6);a=Array.from(a).map(function(e,s){return t-5+s}),e.buttonList=[1,"···"].concat(a)}n("done")});i.then(function(t){window.console.log(t),e.buttonList=e.buttonList.map(function(t){var s={num:t,isActive:!1};return e.currentPage===s.num&&(s.isActive=!0),s})})}},setCurrentPage:function(e){"···"!==e&&(this.currentPage=e||1,this.getButtonList(),this.$emit("turnPage",this.currentPage))}},mounted:function(){this.currentPage=this.pageinfo.currentPage,this.setCurrentPage(this.pageinfo.currentPage)}}),$e=Be,We=(s("dc00"),Object(d["a"])($e,je,Ue,!1,null,null,null)),Qe=We.exports,qe={mixins:[Ce,N],components:{"uim-tooltip":Le,"uim-table":De,"uim-pagenation":Qe},computed:{inviteLink:function(){return this.baseURL+"/#/auth/register?code="+this.code},totalPriceCa:function(){return parseInt(this.toolInputContent)*parseInt(this.invitePrice)},totalPrice:function(){return isNaN(this.totalPriceCa)?"":this.totalPriceCa}},data:function(){return{oldCode:"",code:"",invitePrice:"",customPrice:"",toolInputContent:"",placeholder:"",toolInputType:"",orderCheckContent:"",inviteResetConfirm:!1,inviteLinkTrans:!1,inviteTimeTrans:!1,showToolInput:!1,isToolDisabled:!1,showOrderCheck:!1,theUnWatch:"",showInviteLog:!1,paybacks:"",paybacks_sum:"",pagenation:{lastPage:1,currentPage:1}}},methods:{destoryWatch:function(){""!==this.theUnWatch&&this.theUnWatch()},showInviteReset:function(){this.inviteResetConfirm=!0},hideInviteReset:function(){this.inviteResetConfirm=!1},showLinkTrans:function(){var e=this;this.inviteLinkTrans=!0,setTimeout(function(){e.inviteLinkTrans=!1},300)},showInviteTimeTrans:function(){var e=this;this.inviteTimeTrans=!0,setTimeout(function(){e.inviteTimeTrans=!1},300)},resetInviteLink:function(){var e=this;L("/getnewinvotecode","include").then(function(t){if(1===t.ret){e.code=t.arr.code.code,e.hideInviteReset(),e.showLinkTrans();var s={msg:"已重置您的邀请链接，复制您的邀请链接发送给其他人！",icon:"bell",time:1500};e.callMsgr(s)}else-1===t.ret&&e.ajaxNotLogin()})},hideToolInput:function(e){var t=this;1===e&&e||(this.code=this.oldCode),this.showToolInput=!1,this.isToolDisabled=!1,this.hideOrderCheck(),this.destoryWatch(),setTimeout(function(){t.toolInputContent=""},300)},submitToolInput:function(){switch(this.toolInputType){case"buy":this.buyOrdercheck();break;case"custom":this.customOrderCheck();break}},showBuyToolInput:function(){this.destoryWatch(),this.code=this.oldCode,this.showToolInput=!0,this.isToolDisabled=!0,this.placeholder="输入购买数量",this.toolInputType="buy"},showCustomToolInput:function(){this.showToolInput=!0,this.isToolDisabled=!0,this.placeholder="输入链接后缀",this.toolInputType="custom";var e=this.$watch("toolInputContent",function(e,t){this.code=e});this.theUnWatch=e},hideOrderCheck:function(){this.showOrderCheck=!1},buyOrdercheck:function(){if(isNaN(parseInt(this.toolInputContent))||""===this.toolInputContent){var e={msg:"请输入数字",icon:"times-circle",time:1500};this.callMsgr(e)}else this.showOrderCheck=!0},customOrderCheck:function(){if(""===this.toolInputContent){var e={msg:"后缀不能为空",icon:"times-circle",time:1500};this.callMsgr(e)}else this.showOrderCheck=!0},submitOrder:function(){switch(this.toolInputType){case"buy":this.buyInvite();break;case"custom":this.customInvite();break}},buyInvite:function(){var e=this,t={num:parseInt(this.toolInputContent)};E("/user/buy_invite",JSON.stringify(t),"include").then(function(t){if(e.hideToolInput(),1===t.ret){e.reConfigResourse(),e.showInviteTimeTrans(),e.setInviteNum(t.invite_num);var s={msg:t.msg,icon:"check-circle",time:1e3};e.callMsgr(s)}else if(0===t.ret){var n={msg:t.msg,icon:"times-circle",time:1e3};e.callMsgr(n)}else e.ajaxNotLogin()})},customInvite:function(){var e=this;this.hideToolInput(1);var t={customcode:this.toolInputContent};E("/user/custom_invite",JSON.stringify(t),"include").then(function(t){if(1===t.ret){window.console.log(t),e.reConfigResourse(),e.showLinkTrans(),e.code=e.oldCode=e.toolInputContent;var s={msg:t.msg,icon:"check-circle",time:1e3};e.callMsgr(s)}else if(0===t.ret){e.showLinkTrans(),e.code=e.oldCode;var n={msg:t.msg,icon:"times-circle",time:1e3};e.callMsgr(n)}else e.ajaxNotLogin()})},checkInviteLog:function(){this.showInviteLog=!0,this.hideToolInput()},closeInviteLog:function(){this.showInviteLog=!1},turnInviteLogPage:function(e){var t=this,s={current:e};E("/getuserinviteinfo",JSON.stringify(s),"include").then(function(e){1===e.ret?(t.paybacks=e.inviteInfo.paybacks,t.pagenation.currentPage=e.inviteInfo.paybacks.current_page):-1===e.ret&&t.ajaxNotLogin()})}},mounted:function(){var e=this,t={current:1};E("/getuserinviteinfo",JSON.stringify(t),"include").then(function(t){1===t.ret?(e.code=e.oldCode=t.inviteInfo.code.code,e.invitePrice=t.inviteInfo.invitePrice,e.customPrice=t.inviteInfo.customPrice,e.paybacks=t.inviteInfo.paybacks,e.paybacks_sum=t.inviteInfo.paybacks_sum,e.invite_get_money=t.inviteInfo.invite_get_money,e.invite_gift=t.inviteInfo.invite_gift,e.code_payback=t.inviteInfo.code_payback,e.pagenation={lastPage:t.inviteInfo.paybacks.last_page},e.setInviteNum(t.inviteInfo.invite_num)):-1===t.ret&&e.ajaxNotLogin()})},beforeDestroy:function(){this.hideToolInput()}},Fe=qe,Ke=(s("e5b9"),Object(d["a"])(Fe,ke,Te,!1,null,null,null)),Ve=Ke.exports,Je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"pure-g"},[s("div",{staticClass:"pure-u-1 wrap flex align-center"},[s("div",{staticClass:"card-title"},[e._v("套餐购买")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isCheckerShow?s("label",{staticClass:"relative",attrs:{for:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.coupon,expression:"coupon"}],staticClass:"coupon-checker tips tips-blue",attrs:{type:"text",placeholder:"优惠码"},domProps:{value:e.coupon},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.couponCheck(t):null},input:function(t){t.target.composing||(e.coupon=t.target.value)}}}),s("button",{staticClass:"btn-forinput",attrs:{name:"check"},on:{click:e.couponCheck}},[s("font-awesome-icon",{attrs:{icon:"arrow-up"}})],1),s("button",{staticClass:"btn-forinput",attrs:{name:"reset"},on:{click:e.hideChecker}},[s("font-awesome-icon",{attrs:{icon:"sync-alt"}})],1)]):e._e()])],1)]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"user-shop"},e._l(e.shops,function(t){return s("div",{key:t.id,staticClass:"list-shop pure-g"},[s("div",{staticClass:"pure-u-1 pure-u-sm-20-24"},[s("span",{staticClass:"user-shop-name"},[e._v(e._s(t.name))]),s("span",{staticClass:"tips tips-gold"},[e._v("\n            VIP "+e._s(t.details.class)+"/\n            "),"0"!==t.details.class_expire?s("span",[e._v(e._s(t.details.class_expire)+"天")]):e._e()]),s("span",{staticClass:"tips tips-green"},[e._v("￥"+e._s(t.price))]),s("span",{staticClass:"tips tips-cyan"},[e._v("\n            "+e._s(t.details.bandwidth)+"G\n            "),t.details.reset?s("span",[e._v("+"+e._s(t.details.reset_value)+"G/("+e._s(t.details.reset)+"天/"+e._s(t.details.reset_exp)+"天)")]):e._e()]),"0"!==t.details.expire?s("span",{staticClass:"tips tips-blue"},[e._v("账号续期"+e._s(t.details.expire)+"天")]):e._e()]),s("div",{staticClass:"pure-u-1 pure-u-sm-4-24 list-shop-footer"},[s("button",{staticClass:"buy-submit",attrs:{disabled:e.isDisabled},on:{click:function(s){return e.buy(t)}}},[e._v("购买")])])])}),0)]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isMaskShow?s("uim-modal",{attrs:{bindMask:e.isMaskShow,bindCard:e.isCardShow},on:{closeModal:e.callOrderChecker,callOrderChecker:e.orderCheck}},[s("h3",{attrs:{slot:"uim-modal-title"},slot:"uim-modal-title"},[e._v(e._s(e.modalCon.title))]),s("div",{staticClass:"flex align-center justify-center wrap",attrs:{slot:"uim-modal-body"},slot:"uim-modal-body"},[s("div",{staticClass:"order-checker-content"},[e._v("\n          商品名称：\n          "),s("span",[e._v(e._s(e.orderCheckerContent.name))])]),s("div",{staticClass:"order-checker-content"},[e._v("\n          优惠额度：\n          "),s("span",[e._v(e._s(e.orderCheckerContent.credit))])]),s("div",{staticClass:"order-checker-content"},[e._v("\n          总金额：\n          "),s("span",[e._v(e._s(e.orderCheckerContent.total))])])]),s("div",{staticClass:"flex align-center",attrs:{slot:"uim-modal-footer"},slot:"uim-modal-footer"},[s("uim-switch",{nativeOn:{click:function(t){return e.test(t)}},model:{value:e.orderCheckerContent.disableothers,callback:function(t){e.$set(e.orderCheckerContent,"disableothers",t)},expression:"orderCheckerContent.disableothers"}}),s("span",{staticClass:"switch-text"},[e._v("关闭旧套餐自动续费")])],1)]):e._e()],1)],1)},He=[],Ye=(s("7f7f"),s("6b54"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-modal"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.bindMask,expression:"bindMask"}],staticClass:"uim-modal-mask"})]),s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.bindCard,expression:"bindCard"}],staticClass:"uim-modal-card"},[s("div",{staticClass:"uim-modal-close",on:{click:function(t){return e.$emit("closeModal")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("div",{staticClass:"uim-modal-title"},[e._t("uim-modal-title")],2),s("div",{staticClass:"uim-modal-body"},[e._t("uim-modal-body")],2),s("div",{staticClass:"uim-modal-footer"},[s("div",[e._t("uim-modal-footer")],2),s("div",[s("button",{staticClass:"uim-modal-confirm",on:{click:function(t){return e.$emit("callOrderChecker")}}},[e._v("确认")])])])])])],1)}),ze=[],Xe={mixins:[N],props:["bindMask","bindCard"]},Ze=Xe,et=(s("f01e"),Object(d["a"])(Ze,Ye,ze,!1,null,null,null)),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"uim-switch-body",class:{"uim-switch-body-active":e.switchStatus},on:{click:e.btnSwitch}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:e.isBtnActive},on:{change:function(t){return e.$emit("change",t.target.checked)}}})])},nt=[],it={model:{prop:"isBtnActive",event:"change"},props:["isBtnActive"],data:function(){return{switchStatus:this.isBtnActive}},methods:{btnSwitch:function(){!1===this.switchStatus?this.switchStatus=!0:this.switchStatus=!1}}},at=it,ot=(s("6e33"),Object(d["a"])(at,st,nt,!1,null,null,null)),rt=ot.exports,ct={mixins:[Ce,N],components:{"uim-modal":tt,"uim-switch":rt},data:function(){return{shops:"",isDisabled:!1,coupon:"",isCheckerShow:!1,ajaxBody:{shop:"",autorenew:""},isMaskShow:!1,isCardShow:!1,orderCheckerContent:{name:"",credit:"",total:"",disableothers:!0}}},methods:{buy:function(e){this.isDisabled=!0,this.isCheckerShow=!0;var t={msg:"请输入优惠码，如没有请直接确认",icon:"bell",time:1500};this.callMsgr(t);var s=e.id.toString();this.$set(this.ajaxBody,"shop",s),this.$set(this.ajaxBody,"autorenew",e.autoRenew)},callOrderChecker:function(){var e=this;!1===this.isMaskShow?(this.isMaskShow=!0,setTimeout(function(){e.isCardShow=!0},300)):(this.isCardShow=!1,setTimeout(function(){e.isMaskShow=!1,e.hideChecker()},300))},couponCheck:function(){var e=this,t={coupon:this.coupon,shop:this.ajaxBody.shop};E("/user/coupon_check",JSON.stringify(t),"include").then(function(t){if(1===t.ret)e.isCheckerShow=!1,e.orderCheckerContent.name=t.name,e.orderCheckerContent.credit=t.credit,e.orderCheckerContent.total=t.total,e.callOrderChecker();else if(0===t.ret){var s={msg:t.msg,icon:"times-circle",time:1e3};e.callMsgr(s)}else e.ajaxNotLogin()})},orderCheck:function(){var e=this,t={coupon:this.coupon,shop:this.ajaxBody.shop,autorenew:this.ajaxBody.autorenew,disableothers:this.disableothers};E("/user/buy",JSON.stringify(t),"include").then(function(t){var s=e;if(1===t.ret){e.callOrderChecker(),e.reConfigResourse(),e.$emit("resourseTransTrigger");var n={msg:t.msg,icon:"check-circle",time:1500},i=new Promise(function(e){s.callOrderChecker(),setTimeout(function(){e("done")},600)});i.then(function(t){e.callMsgr(n)})}else if(0===t.ret){var a,o=new Promise(function(e){s.callOrderChecker(),setTimeout(function(){e("done")},600)}),r=t.msg,c=r.indexOf("</br>");-1!==c&&(r=r.substr(0,c),a=r.substr(c));var u={msg:r,html:a,icon:"times-circle",time:6e3};o.then(function(t){e.callMsgr(u)})}else e.ajaxNotLogin()})},hideChecker:function(){this.isCheckerShow=!1,this.isDisabled=!1}},mounted:function(){var e=this;L("/getusershops","include").then(function(t){1===t.ret?(e.shops=t.arr.shops,e.shops.forEach(function(t,s){e.$set(e.shops[s],"details",JSON.parse(t.content))}),window.console.log(e.shops)):0===t.ret&&e.ajaxNotLogin()})}},ut=ct,lt=(s("029c"),Object(d["a"])(ut,Je,He,!1,null,null,null)),dt=lt.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"relative",staticStyle:{"overflow-x":"hidden"}},[s("div",{staticClass:"userguide-bookmark-container pure-u-1-2 pure-u-sm-4-24 flex align-center absolute",class:{"userguide-bookmark-drawer-active":e.isBookmarkShow},on:{click:function(e){e.stopPropagation()}}},[s("button",{staticClass:"userguide-bookmark-drawer absolute",on:{click:e.bookmarkTrigger}},[s("div",[s("font-awesome-icon",{class:{"bookmark-arrow-rotate":e.isBookmarkShow},style:{transition:"all .3s"},attrs:{icon:"chevron-left"}})],1),s("div",[e._v("平")]),s("div",[e._v("台")]),s("div",[e._v("选")]),s("div",[e._v("择")])]),s("div",{key:e.agentToken.markKey,staticClass:"userguide-bookmark flex align-center wrap"},e._l(e.agentToken.tips,function(t){return s("button",{key:t.id,class:{"bookmark-active":t.isActive},on:{click:function(s){e.setCurrentPlantformType(t.type),e.setBookmarkState(t.type)}}},[s("span",{staticClass:"btn-anchor"}),e._v("\n        "+e._s(t.type)+"\n      ")])}),0)]),s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("配置指南")]),s("div",{staticClass:"card-title-right"},[s("uim-dropdown",{attrs:{"show-arrow":""},scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{key:e.agentToken.menuKey},[e._v(e._s(e.currentDlType))])])]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(e.downloads,function(t){return s("li",{key:t.type,attrs:{"data-type":t.type},on:{click:e.changeAgentType}},[e._v(e._s(t.type))])})},proxy:!0}])})],1)]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"user-guide pure-g relative"},[s("div",{staticClass:"pure-u-1 pure-u-sm-19-24 relative"},[s("transition",{attrs:{name:"slide-fadex"}},[s("div",{key:e.currentDlType,staticClass:"absolute guide-area"},[s("transition-group",{staticClass:"relative guide-area",attrs:{name:"list"}},e._l(e.currentSteps,function(t){return s("p",{key:t.id},[s("span",{staticClass:"tips tips-blue"},[e._v(e._s(t.num))]),e._v("\n                "+e._s(t.content)+"\n                "),t.extra?s("span",["SSR"===e.currentDlType?s("p",["WINDOWS"===e.currentPlantformType||"ANDROID"===e.currentPlantformType?s("span",[s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-cyan",attrs:{"data-uimclip":e.userCon.ssr_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 普通端口链接\n                      ")],1),"true"!==e.mergeSub?s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-cyan",attrs:{"data-uimclip":e.userCon.ssr_url_all_mu}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 单端口多用户链接\n                      ")],1):e._e()]):e._e(),"IOS"===e.currentPlantformType?s("span",[s("button",{staticClass:"tips tips-cyan",on:{click:function(t){return e.oneKeySub(e.suburlMu0)}}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 小火箭一键普通端口订阅\n                      ")],1),s("button",{staticClass:"tips tips-cyan",on:{click:function(t){return e.oneKeySub(e.suburlMu1)}}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 小火箭一键单端口订阅\n                      ")],1)]):e._e()]):e._e(),"SS/SSD"===e.currentDlType?s("p",["WINDOWS"===e.currentPlantformType?s("span",[s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-cyan",attrs:{"data-uimclip":e.userCon.ssd_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 复制节点链接\n                      ")],1)]):e._e(),"MACOS"===e.currentPlantformType?s("span",[s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-cyan",attrs:{"data-uimclip":e.userCon.ss_url_all}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 复制节点链接\n                      ")],1)]):e._e()]):e._e(),"V2RAY"===e.currentDlType?s("p",["IOS"===e.currentPlantformType?s("span",[s("button",{staticClass:"tips tips-cyan",on:{click:function(t){return e.oneKeySub(e.suburlMu2)}}},[s("font-awesome-icon",{attrs:{icon:["far","copy"]}}),e._v(" 小火箭一键订阅\n                      ")],1)]):e._e()]):e._e(),"IOS"===e.currentPlantformType&&parseInt(e.displayIosClass)>=0?s("p",[e.userCon.class>=parseInt(e.displayIosClass)?s("span",[s("label",{attrs:{for:"iosAccount"}},[e._v("公共IOS账号")]),s("input",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.iosAccount,type:"text",name:"iosAccount",readonly:"readonly"},domProps:{value:e.iosAccount}}),s("label",{attrs:{for:"iosPass"}},[e._v("公共IOS密码")]),s("input",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess:successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.iosPassword,type:"text",name:"iosPass",readonly:"readonly"},domProps:{value:e.iosPassword}})]):s("span",[e._v("\n                      IOS公共账号等级至少为"+e._s(e.displayIosClass)+"可见，如需升级请\n                      "),s("button",{staticClass:"tips tips-gold",attrs:{"data-component":"user-shop"},on:{click:function(t){return e.$emit("guideToShop",t)}}},[e._v("点击这里")]),e._v("升级套餐。\n                    ")])]):e._e()]):e._e()])}),0)],1)])],1)])])])},mt=[],ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-dropdown"},[s("button",{staticClass:"uim-dropdown-btn",style:{width:e.btnwidth},on:{click:function(t){return t.stopPropagation(),e.show(t)}}},[s("span",[e._t("dpbtn-content")],2),e.showArrow?s("font-awesome-icon",{attrs:{icon:"caret-down"}}):e._e()],1),s("transition",{attrs:{name:"dropdown-fade",mode:"out-in"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isDropdown,expression:"isDropdown"}],staticClass:"uim-dropdown-menu",style:{width:e.btnwidth},on:{click:function(t){return t.stopPropagation(),e.hide(t)}}},[s("ul",[e._t("dp-menu")],2)])])],1)},ht=[],gt={props:{showArrow:{type:Boolean,default:!1},btnwidth:{type:String,default:""}},data:function(){return{isDropdown:!1}},methods:{show:function(){!1===this.isDropdown?this.isDropdown=!0:this.isDropdown=!1},hide:function(){!0===this.isDropdown&&(this.isDropdown=!1)}},mounted:function(){var e=this;document.addEventListener("click",function(){e.hide()})}},vt=gt,_t=(s("da02"),Object(d["a"])(vt,ft,ht,!1,null,null,null)),Ct=_t.exports,bt={mixins:[Ce,N,ge],components:{"uim-dropdown":Ct},computed:{agentToken:function(){switch(this.currentDlType){case"SSR":return{menuKey:"guide-nemu-ssr",contentKey:"guide-content-ssr",markKey:"guide-mark-ssr",tips:this.agentContent["SSR"]};case"SS/SSD":return{menuKey:"guide-nemu-ss",contentKey:"guide-content-ss",markKey:"guide-mark-ss",tips:this.agentContent["SS/SSD"]};case"V2RAY":return{menuKey:"guide-nemu-v2",contentKey:"guide-content-v2",markKey:"guide-mark-v2",tips:this.agentContent["V2RAY"]}}},currentSteps:function(){var e=this.agentContent[this.currentDlType];switch(this.currentPlantformType){case"WINDOWS":return e[0].steps;case"MACOS":return e[1].steps;case"LINUX":return e[2].steps;case"IOS":return e[3].steps;case"ANDROID":return e[4].steps;case"ROUTER":return e[5].steps}}},methods:{oneKeySub:function(e){var t=window.btoa(e);t=t.substring(0,t.length);var s="sub://"+t+"#";window.location.href=s},bookmarkTrigger:function(){!1===this.isBookmarkShow?this.isBookmarkShow=!0:this.isBookmarkShow=!1},hideBookmark:function(){this.isBookmarkShow=!1},setBookmarkState:function(e){for(var t=this.agentToken.tips,s=0;s<t.length;s++)t[s].type===e?t[s].isActive=!0:t[s].isActive=!1}},mounted:function(){var e=document.getElementById("app");e.addEventListener("click",this.hideBookmark,!1),this.setBookmarkState(this.currentPlantformType)},beforeDestroy:function(){var e=document.getElementById("app");e.removeEventListener("click",this.hideBookmark,!1)},data:function(){return{isBookmarkShow:!1,agentContent:{SSR:[{id:"GT_W_0",type:"WINDOWS",isActive:!1,steps:[{num:1,content:"下载客户端解压至任意磁盘并运行",id:"GT_W_0_1"},{num:2,content:"任务栏右下角右键纸飞机图标->服务器订阅->SSR服务器订阅设置，将订阅链接设置为下面的地址，确定之后再更新SSR服务器订阅（绕过代理）",id:"GT_W_0_2"},{num:3,content:"选择一个合适的服务器，代理规则选“绕过局域网和大陆”，即可上网",id:"GT_W_0_3"},{num:"备用",content:"点击复制普通端口链接或者单端口多用户链接，然后右键小飞机->从剪贴板复制地址",id:"GT_W_0_4",extra:!0},{num:"SSTAP游戏端",content:"",id:"GT_W_0_5"},{num:1,content:"下载SSTap，并安装，期间会安装虚拟网卡，请点击允许或确认",id:"GT_W_0_6"},{num:2,content:"打开桌面程序SSTAP",id:"GT_W_0_7"},{num:3,content:"齿轮图标-SSR订阅-SSR订阅管理添加以下订阅链接即可",id:"GT_W_0_8"},{num:4,content:"更新后选择其中一个节点闪电图标测试节点-测试UDP转发...通过!（UDP通过即可连接并开始游戏）",id:"GT_W_0_9"}]},{id:"GT_M_0",type:"MACOS",isActive:!1,steps:[{num:1,content:"下载客户端，安装并启动",id:"GT_M_0_1"},{num:2,content:"右击托盘纸飞机图标->服务器->服务器订阅，填入订阅地址",id:"GT_M_0_2"},{num:3,content:"更新订阅成功后服务器列表即可出现节点，选择一个节点",id:"GT_M_0_3"},{num:4,content:"再次右击托盘纸飞机图标，如果shadowsocks还未打开，则需要点击打开",id:"GT_M_0_4"}]},{id:"GT_L_0",type:"LINUX",isActive:!1,steps:[{num:1,content:"安装shadowsocks-qt5",id:"GT_L_0_1"},{num:2,content:"按win键搜索找到软件，填写对应的服务器IP、端口、密码、加密方式，并配置系统代理模式",id:"GT_L_0_2"},{num:3,content:"配置浏览器代理模式",id:"GT_L_0_3"},{num:4,content:"点击connect连接",id:"GT_L_0_4"}]},{id:"GT_I_0",type:"IOS",isActive:!1,steps:[{num:1,content:"在非国区AppStore中搜索Shadowrocket或Potatso Lite下载安装",id:"GT_I_0_1"},{num:2,content:"打开 Potatso Lite，点击添加代理，点击右上角的 + 号，选择“订阅”，名字任意填写，开启自动更新，URL填写订阅地址并保存即可",id:"GT_I_0_2"},{num:3,content:"如果使用shadowrocket，打开 Shadowrocket，点击右上角的 + 号，类型选择“Subscribe”，URL填写订阅地址并点击右上角完成即可",id:"GT_I_0_3"},{num:"备用",content:"点击按钮，使用小火箭一键订阅",id:"GT_I_0_4",extra:!0}]},{id:"GT_A_0",type:"ANDROID",isActive:!1,steps:[{num:1,content:"下载 SSR 或  SSRR 并安装",id:"GT_A_0_1"},{num:2,content:"打开App，左滑删除默认节点，点击右下角的add号图标，添加/升级 SSR订阅，左滑删除默认订阅，填入订阅地址，输入下方订阅地址，点击确定并升级",id:"GT_A_0_2"},{num:3,content:"点击选择任意节点， 路由选择：略过区域网路以及中国大陆",id:"GT_A_0_3"},{num:4,content:"点击右上角的纸飞机图标即可连接",id:"GT_A_0_4"},{num:"备用",content:"在手机上默认浏览器中点击普通端口链接或者单端口多用户链接，然后点击确定",id:"GT_A_0_5",extra:!0}]},{id:"GT_R_0",type:"ROUTER",isActive:!1,steps:[{num:"梅林",content:"",id:"GT_R_0_0"},{num:1,content:"打开下载页面下载“科学上网”插件",id:"GT_R_0_1"},{num:2,content:"进入路由器管理页面->系统管理->勾选“Format JFFS partition at next boot”和“Enable JFFS custom scripts and configs”->应用本页面设置，重启路由器",id:"GT_R_0_2"},{num:3,content:" 进入路由器管理页面->软件中心->离线安装，上传插件文件进行安装",id:"GT_R_0_3"},{num:4,content:"进入“科学上网”插件->更新管理，将下方的订阅地址复制粘贴进去，点击“保存并订阅”",id:"GT_R_0_4"},{num:5,content:"账号设置->节点选择，选择一个节点，打开“科学上网”开关->保存&应用",id:"GT_R_0_5"},{num:"padavan",content:"",id:"GT_R_0_6"},{num:1,content:"进入路由器管理页面->扩展功能->Shadowsocks",id:"GT_R_0_7"},{num:2,content:"将下方的订阅地址填入“ssr服务器订阅”，点击“更新”",id:"GT_R_0_8"},{num:3,content:"选择需要的节点（右方勾选）->应用主SS->打开上方的开关",id:"GT_R_0_9"}]}],"SS/SSD":[{id:"GT_W_1",type:"WINDOWS",isActive:!1,steps:[{num:1,content:"下载客户端解压至任意磁盘并运行",id:"GT_W_1_1"},{num:2,content:"任务栏右下角右键纸飞机图标->服务器订阅->SSD服务器订阅设置，将订阅链接设置为下面的地址，确定之后再更新SSD服务器订阅",id:"GT_W_1_2"},{num:3,content:"选择一个合适的服务器，代理规则选“绕过局域网和大陆”，即可上网",id:"GT_W_1_3"},{num:"备用",content:"点击复制链接，然后右键小飞机->从剪贴板复制地址",id:"GT_W_1_4",extra:!0}]},{id:"GT_M_1",type:"MACOS",isActive:!1,steps:[{num:1,content:"下载 ShadowsocksX-NG，并安装",id:"GT_M_1_1"},{num:2,content:"点击按钮复制链接,然后右击托盘小飞机图标->从剪贴板导入服务器配置链接",id:"GT_M_1_2",extra:!0},{num:3,content:"再次右击托盘小飞机图标->服务器，选择一个服务器即可上网",id:"GT_M_1_3"}]},{id:"GT_L_1",type:"LINUX",isActive:!1,steps:[{num:1,content:"安装shadowsocks-qt5",id:"GT_L_1_1"},{num:2,content:"按win键搜索找到软件，填写对应的服务器IP、端口、密码、加密方式，并配置系统代理模式",id:"GT_L_1_2"},{num:3,content:"配置浏览器代理模式",id:"GT_L_1_3"},{num:4,content:"点击connect连接",id:"GT_L_1_4"}]},{id:"GT_I_1",type:"IOS",isActive:!1,steps:[{num:1,content:"在非国区AppStore中搜索Shadowrocket或Potatso Lite下载安装",id:"GT_I_1_1"},{num:2,content:" 打开节点列表，点开自己需要的节点详情，自行导入节点",id:"GT_I_1_2",extra:!0}]},{id:"GT_A_1",type:"ANDROID",isActive:!1,steps:[{num:1,content:"下载客户端，如有需要可下载混淆插件",id:"GT_A_1_1"},{num:2,content:"安装后，在手机上点击订阅链接复制",id:"GT_A_1_2"},{num:3,content:"打开 ShadowsocksD ，点击右上角的“加号”，选择“添加订阅”，将剪贴板中的内容粘贴进去，点击“OK”，稍等片刻即可看见订阅的节点",id:"GT_A_1_3",extra:!0}]},{id:"GT_R_1",type:"ROUTER",isActive:!1,steps:[{num:"梅林",content:"",id:"GT_R_1_0"},{num:1,content:"进入下载页面 下载“科学上网”插件",id:"GT_R_1_1"},{num:2,content:"进入路由器管理页面->系统管理->勾选“Format JFFS partition at next boot”和“Enable JFFS custom scripts and configs”->应用本页面设置，重启路由器",id:"GT_R_1_2"},{num:3,content:"进入路由器管理页面->软件中心->离线安装，上传插件文件进行安装",id:"GT_R_1_3"},{num:4,content:"进入“科学上网”插件->节点管理，手动添加节点，打开“科学上网”开关->保存&应用",id:"GT_R_1_4"},{num:"padavan",content:"",id:"GT_R_1_5"},{num:5,content:"进入路由器管理页面->扩展功能->Shadowsocks",id:"GT_R_1_6"},{num:6,content:"手动添加需要的节点并勾选->应用主SS->打开上方的开关",id:"GT_R_1_7"}]}],V2RAY:[{id:"GT_W_2",type:"WINDOWS",isActive:!1,steps:[{num:1,content:"下载 V2RayN，解压至任意磁盘并运行",id:"GT_W_2_1"},{num:2,content:"双击任务栏右下角V2RayN图标->订阅->订阅设置->添加->填入下方的地址，点击确定",id:"GT_W_2_2"},{num:3,content:"再次点击订阅->更新订阅，右击任务栏右下角V2RayN图标->启动Http代理",id:"GT_W_2_3"},{num:4,content:"自行选择“Http代理模式”和“服务器”",id:"GT_W_2_4"}]},{id:"GT_M_2",type:"MACOS",isActive:!1,steps:[]},{id:"GT_L_2",type:"LINUX",isActive:!1,steps:[]},{id:"GT_I_2",type:"IOS",isActive:!1,steps:[{num:1,content:"在非国区AppStore中搜索Shadowrocket下载安装",id:"GT_I_2_1"},{num:2,content:"打开 Shadowrocket，点击右上角的 + 号，类型选择“Subscribe”，URL填写以下地址并点击右上角完成即可。",id:"GT_I_2_2"},{num:"备用",content:"使用shadowrocket一键订阅",id:"GT_I_2_3",extra:!0}]},{id:"GT_A_2",type:"ANDROID",isActive:!1,steps:[{num:1,content:"下载 V2RayNG并安装",id:"GT_A_2_1"},{num:2,content:"点击左上角菜单按钮展开菜单->订阅设置->点击右上角“+”，URL填写以下地址并点击右上角“√”保存",id:"GT_A_2_2"},{num:3,content:"回到软件主界面->点击右上角“更多”按钮->更新订阅",id:"GT_A_2_3"},{num:4,content:"选择一个节点，点击右下角按钮订阅",id:"GT_A_2_4"}]},{id:"GT_R_2",type:"ROUTER",isActive:!1,steps:[{num:"梅林",content:"",id:"GT_R_2_0"},{num:1,content:"进入下载页面 下载“科学上网”插件",id:"GT_R_2_1"},{num:2,content:"进入路由器管理页面->系统管理->勾选“Format JFFS partition at next boot”和“Enable JFFS custom scripts and configs”->应用本页面设置，重启路由器",id:"GT_R_2_2"},{num:3,content:"进入路由器管理页面->软件中心->离线安装，上传插件文件进行安装",id:"GT_R_2_3"},{num:4,content:"进入“科学上网”插件->节点管理，手动添加节点，打开“科学上网”开关->保存&应用",id:"GT_R_2_4"}]}]}}}},yt=bt,wt=(s("f077"),Object(d["a"])(yt,pt,mt,!1,null,null,null)),St=wt.exports,kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-resourse",on:{mousewheel:e.wheelChange}},[s("div",{staticClass:"flex align-baseline"},[s("div",{staticClass:"card-title"},[e._v("可用资源")]),s("span",[s("button",{staticClass:"tips tips-green",on:{click:e.dataRefresh}},[s("font-awesome-icon",{attrs:{icon:"sync-alt"}}),e._v(" 刷新\n      ")],1)])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"pure-g wrap"},[e._l(e.calcResourse,function(t){return s("div",{key:t.name,staticClass:"pure-u-1-2 pure-u-lg-4-24"},[s("p",{staticClass:"tips tips-blue"},[e._v(e._s(t.name))]),s("p",{staticClass:"font-light user-config",class:{"font-gold-trans":e.resourseTrans,"font-green-trans":e.isDataRefreshed}},[s("span",{staticClass:"user-config"}),e._v("\n          "+e._s(t.content)+"\n        ")])])}),s("div",{staticClass:"pure-u-1 pure-u-lg-8-24"},[s("uim-progressbar",{staticClass:"uim-progressbar-sub"},[s("span",{attrs:{slot:"uim-progressbar-label"},slot:"uim-progressbar-label"},[e._v("已用流量/今日已用")]),s("div",{staticClass:"uim-progressbar-gold uim-progressbar-progress",style:{width:e.transferObj.usedtotal+"%"},attrs:{slot:"progress"},slot:"progress"}),s("div",{staticClass:"uim-progressbar-red uim-progressbar-progress uim-progressbar-fold",style:{width:e.transferObj.usedtoday+"%"},attrs:{slot:"progress-fold"},slot:"progress-fold"}),s("span",{staticClass:"user-config",class:{"font-green-trans":e.isDataRefreshed,"font-gold-trans":e.sign.isTrsfficRefreshed},attrs:{slot:"progress-text"},slot:"progress-text"},[e._v(e._s(e.userCon.lastUsedTraffic+"/"+e.userCon.todayUsedTraffic))]),s("span",{staticClass:"user-config",class:{"font-green-trans":e.isDataRefreshed,"font-gold-trans":e.sign.isTrsfficRefreshed},attrs:{slot:"progress-sign"},slot:"progress-sign"},[e._v(e._s(e.transferObj.usedtoday.toFixed(1)+"%"))])]),s("uim-progressbar",[s("span",{attrs:{slot:"uim-progressbar-label"},slot:"uim-progressbar-label"},[e._v("可用流量")]),s("div",{staticClass:"uim-progressbar-blue uim-progressbar-progress",style:{width:e.transferObj.remain+"%"},attrs:{slot:"progress"},slot:"progress"}),s("span",{class:{"font-green-trans":e.isDataRefreshed,"font-gold-trans":e.sign.isTrsfficRefreshed},attrs:{slot:"progress-text"},slot:"progress-text"},[e._v(e._s(e.userCon.unUsedTraffic))]),s("span",{staticClass:"user-config",class:{"font-green-trans":e.isDataRefreshed,"font-gold-trans":e.sign.isTrsfficRefreshed},attrs:{slot:"progress-sign"},slot:"progress-sign"},[e._v(e._s(e.transferObj.remain.toFixed(1)+"%"))])])],1)],2)])])},Tt=[],xt={props:["resourseTrans"],methods:{wheelChange:function(e){this.$emit("turnPageByWheel",e.deltaY)}}},It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-progressbar"},[s("div",{staticClass:"uim-progressbar-label"},[e._t("uim-progressbar-label")],2),s("div",{staticClass:"uim-progressbar-inner"},[e._t("progress"),e._t("progress-fold"),s("div",{staticClass:"uim-progress-text"},[e._t("progress-text")],2)],2),s("span",{staticClass:"uim-progress-sign"},[e._t("progress-sign")],2)])},Nt=[],Rt={},Pt=Rt,Lt=(s("4f14"),Object(d["a"])(Pt,It,Nt,!1,null,null,null)),Et=Lt.exports,Ot={mixins:[Ce,N,xt],components:{"uim-progressbar":Et},computed:{calcResourse:function(){for(var e=this.userSettings.resourse,t=0;t<e.length;t++)switch(e[t].name){case"在线设备数":0!==this.userCon.node_connector?this.setReasourse({index:t,content:this.userCon.online_ip_count+" / "+this.userCon.node_connector}):this.setReasourse({index:t,content:this.userCon.online_ip_count+" / 无限制"});break;case"端口速率":0!==this.userCon.node_speedlimit?this.setReasourse({index:t,content:this.userCon.node_speedlimit+" Mbps"}):this.setReasourse({index:t,content:"无限制"});break;default:break}return e},transferObj:function(){var e=this.userCon.transfer_enable,t=this.userCon.u,s=this.userCon.d,n=this.userCon.last_day_t,i={remain:0===e?0:(e-t-s)/e*100,usedtoday:0===e?0:(t+s)/e*100,usedtotal:0===e?0:n/e*100};return i}},data:function(){return{isDataRefreshed:!1}},methods:{DateParse:function(e){var t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])},calcExpireDays:function(e,t){var s=this.DateParse(e),n=this.DateParse(t),i=new Date,a=i.getTime(),o=s-a,r=n-a,c=Math.floor(o/864e5),u=Math.floor(r/864e5);c<0||c>31536e7?(this.addNewUserCon({levelExpireDays:"无限期"}),this.setReasourse({index:0,content:this.userCon.levelExpireDays})):(this.addNewUserCon({levelExpireDays:c}),this.setReasourse({index:0,content:this.userCon.levelExpireDays+" 天"})),u<0||u>31536e7?(this.addNewUserCon({accountExpireDays:"无限期"}),this.setReasourse({index:1,content:this.userCon.accountExpireDays})):(this.addNewUserCon({accountExpireDays:u}),this.setReasourse({index:1,content:this.userCon.accountExpireDays+" 天"}))},dataRefresh:function(){var e=this;L("/gettransfer","include").then(function(t){1===t.ret?(e.addNewUserCon(t.arr),e.reConfigResourse(),e.showTransition("isDataRefreshed")):0===t.ret&&e.ajaxNotLogin()})},showTransition:function(e){var t=this;this[e]=!0,setTimeout(function(){t[e]=!1},500)}},created:function(){var e=this;this.calcExpireDays(this.userCon.class_expire,this.userCon.expire_in),L("/gettransfer","include").then(function(t){1===t.ret?e.addNewUserCon(t.arr):-1===t.ret&&e.ajaxNotLogin()})}},At=Ot,Mt=Object(d["a"])(At,kt,Tt,!1,null,null,null),Gt=Mt.exports,Dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-settings",on:{mousewheel:e.wheelChange}},[s("div",{staticClass:"card-title"},[e._v("连接信息")]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"pure-g wrap"},e._l(e.userSettings.tipsLink,function(t){return s("div",{key:t.name,staticClass:"pure-u-1-2 pure-u-lg-4-24"},[s("p",{staticClass:"tips tips-blue"},[e._v(e._s(t.name))]),s("p",{staticClass:"font-light"},[e._v(e._s(t.content))])])}),0)])])},jt=[],Ut={mixins:[Ce,N,xt]},Bt=Ut,$t=Object(d["a"])(Bt,Dt,jt,!1,null,null,null),Wt=$t.exports,Qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("充值中心")]),s("div",{staticClass:"card-title-right"},[s("uim-dropdown",{attrs:{"show-arrow":""},scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{key:e.paymentType.name},[e._v(e._s(e.paymentType.name))])])]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(e.menuList,function(t,n){return s("li",{key:n,on:{click:function(t){return e.changePayementType(n)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])})},proxy:!0}])})],1)]),s("div",{staticClass:"card-body user-charge"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s(e.paymentType.component,{tag:"component"})],1)],1)])},qt=[],Ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h5",[e._v("在下方输入充值码进行充值：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"tips tips-blue",attrs:{type:"text",placeholder:"输入充值码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),s("button",{staticClass:"tips tips-gold",on:{click:e.charge}},[e._v("充值")])])},Kt=[],Vt={mixins:[Ce,N],data:function(){return{code:""}},methods:{charge:function(){var e=this,t={code:this.code};E("/user/code",JSON.stringify(t),"include").then(function(t){if(t.ret){e.reConfigResourse();var s={msg:t.msg,icon:"check-circle",time:1500};e.callMsgr(s),e.code=""}else{var n={msg:t.msg,icon:"times-circle",time:1500};e.callMsgr(n),e.code=""}})}}},Jt=Vt,Ht=Object(d["a"])(Jt,Ft,Kt,!1,null,null,null),Yt=Ht.exports,zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"user-table-container"},[s("uim-table",{scopedSlots:e._u([{key:"uim-th",fn:function(){return[s("th",[e._v("充值方式")]),s("th",[e._v("操作")]),s("th",[e._v("时间")])]},proxy:!0},{key:"uim-tbd",fn:function(){return e._l(e.codes.data,function(t,n){return s("tr",{key:n+t.id,staticClass:"uim-tr-body"},[s("td",[e._v(e._s(t.code))]),s("td",[e._v("￥"+e._s(t.number))]),s("td",[e._v(e._s(t.usedatetime))])])})},proxy:!0}])})],1),s("div",{staticClass:"uim-pagenation-container"},[s("uim-pagenation",{ref:"pagenation",attrs:{pageinfo:e.pagenation},on:{turnPage:e.turnChargeLogPage}})],1)])},Xt=[],Zt={mixins:[Ce,N],components:{"uim-table":De,"uim-pagenation":Qe},data:function(){return{codes:"",pagenation:{lastPage:1,currentPage:1}}},methods:{turnChargeLogPage:function(e){var t=this,s={current:e};E("/getChargeLog",JSON.stringify(s),"include").then(function(e){t.codes=e.codes,t.pagenation.currentPage=e.codes.currentPage})}},created:function(){var e=this,t={current:1};E("/getChargeLog",JSON.stringify(t),"include").then(function(t){e.codes=t.codes,e.pagenation.lastPage=t.codes.last_page,e.$refs.pagenation.getButtonList()})}},es=Zt,ts=Object(d["a"])(es,zt,Xt,!1,null,null,null),ss=ts.exports,ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"charge-btngroup"},[s("button",{staticClass:"btn-user",class:{"index-btn-active":"alipay"===e.chargeType},on:{click:function(t){return e.setChargeType("alipay")}}},[s("font-awesome-icon",{attrs:{icon:["fab","alipay"]}}),e._v(" 支付宝\n    ")],1),s("button",{staticClass:"btn-user",class:{"index-btn-active":"wechat"===e.chargeType},on:{click:function(t){return e.setChargeType("wechat")}}},[s("font-awesome-icon",{attrs:{icon:"comments"}}),e._v(" 微信\n    ")],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"tips tips-blue",attrs:{type:"text",placeholder:"输入充值金额"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}}),s("button",{staticClass:"tips tips-gold",on:{click:e.charge}},[e._v("充值")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isQrShow?s("div",{staticClass:"text-center pure-g flex align-center"},[s("div",{staticClass:"pure-u-1 pure-u-sm-1-2"},[s("p",[e._v("使用微信扫描二维码支付")]),s("p",[e._v("充值完毕后会自动跳转")])]),s("div",{staticClass:"pure-u-1 pure-u-sm-1-2"},[s("div",{staticStyle:{"padding-top":"10px"},attrs:{align:"center",id:"trimeweqr"}})])]):e._e()]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isMaskShow?s("uim-modal",{attrs:{bindMask:e.isMaskShow,bindCard:e.isCardShow}},[s("h3",{attrs:{slot:"uim-modal-title"},slot:"uim-modal-title"},[e._v("正在连接支付网关")]),s("div",{staticClass:"flex align-center justify-center wrap",attrs:{slot:"uim-modal-body"},slot:"uim-modal-body"},[s("div",{staticClass:"order-checker-content"},[e._v("感谢您对我们的支持，请耐心等待")])])]):e._e()],1)],1)},is=[],as={mixins:[Ce,N],components:{"uim-modal":tt},data:function(){return{chargeType:"alipay",price:"",isMaskShow:!1,isCardShow:!1,isQrShow:!1,tid:"",qrcode:{}}},methods:{setChargeType:function(e){this.chargeType=e,"alipay"===e&&this.hideQr()},hideQr:function(){this.isQrShow=!1,clearTimeout(this.tid)},charge:function(){var e=this,t=this.chargeType,s=0;"alipay"===t&&(t=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?"ALIPAY_WAP":"ALIPAY_WEB"),"wechat"===t&&(t="WEPAY_JSAPI");var n=parseFloat(this.price);if(window.console.log("将要使用 "+this.chargeType+" 充值"+n+"元"),isNaN(n)){var i={msg:"非法的金额!",icon:"times-circle",time:1500};this.callMsgr(i)}else this.callModal(function(){setTimeout(function(){var i={price:n,type:t};E("/user/payment/purchase",JSON.stringify(i),"include").then(function(n){if(0===n.code){if(e.callModal(),"ALIPAY_WAP"!==t&&"ALIPAY_WEB"!==t)return s=n.pid,e.isQrShow=!0,n.data;window.location.href=n.data}else e.callModal(function(){setTimeout(function(){var t={msg:n.msg,icon:"times-circle",time:1500};e.callMsgr(t)},300)})}).then(function(t){window.console.log(t),e.qrcode=new window.QRCode("trimeweqr",{render:"canvas",width:200,height:200,text:encodeURI(t)}),e.tid=setTimeout(function(){e.chargeChecker(s)},1e3)})},300)})},callModal:function(e){var t=this;!1===this.isMaskShow?(this.isMaskShow=!0,setTimeout(function(){t.isCardShow=!0,e&&e()},300)):(this.isCardShow=!1,setTimeout(function(){t.isMaskShow=!1,e&&e()},300))},chargeChecker:function(e){var t=this,s={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n=new URLSearchParams;n.set("pid",e),E("/payment/status",n,"include",s).then(function(s){if(s.result){var n={msg:"充值成功",icon:"check-circle",time:1500};t.callMsgr(n),t.hideQr(),t.reConfigResourse()}else t.tid=setTimeout(function(){t.chargeChecker(e)},1e3)})}}},os=as,rs=(s("c0ec"),Object(d["a"])(os,ns,is,!1,null,null,null)),cs=rs.exports,us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showbtn?s("div",[s("div",{staticClass:"charge-btngroup"},[s("button",{staticClass:"btn-user",class:{"index-btn-active":"alipay"===e.chargeType},on:{click:function(t){return e.setChargeType("alipay")}}},[s("font-awesome-icon",{attrs:{icon:["fab","alipay"]}}),e._v(" 支付宝\n    ")],1),s("button",{staticClass:"btn-user",class:{"index-btn-active":"wechat"===e.chargeType},on:{click:function(t){return e.setChargeType("wechat")}}},[s("font-awesome-icon",{attrs:{icon:"comments"}}),e._v(" 微信\n    ")],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"tips tips-blue",attrs:{type:"text",placeholder:"输入充值金额"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}}),s("button",{staticClass:"tips tips-gold",on:{click:e.charge}},[e._v("充值")])]):e._e()},ls=[],ds={mixins:[Ce,N],data:function(){return{chargeType:"alipay",price:"",showbtn:!0}},methods:{setChargeType:function(e){this.chargeType=e},charge:function(){var e;switch(this.chargeType){case"alipay":e=1;break;case"wechat":e=3;break}var t=parseFloat(this.price);fetch("/user/code/codepay?price=".concat(t,"&type=").concat(e)).then(function(e){window.location.href=e.url})}}},ps=ds,ms=(s("16c6"),Object(d["a"])(ps,us,ls,!1,null,null,null)),fs=ms.exports,hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"charge-btngroup"},[s("button",{staticClass:"btn-user"},[s("font-awesome-icon",{attrs:{icon:["fab","alipay"]}}),e._v(" 支付宝\n    ")],1)]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"tips tips-blue",attrs:{type:"text",placeholder:"输入充值金额"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}}),s("button",{staticClass:"tips tips-gold",on:{click:e.charge}},[e._v("充值")]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isQrShow?s("div",{staticClass:"text-center pure-g flex align-center"},[s("div",{staticClass:"pure-u-1 pure-u-sm-1-2"},[s("p",[e._v("使用支付宝扫描二维码支付")]),s("p",[e._v("充值完毕后会自动跳转")])]),s("div",{staticClass:"pure-u-1 pure-u-sm-1-2"},[s("div",{staticStyle:{"padding-top":"10px"},attrs:{align:"center",id:"f2fqr"}})])]):e._e()]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isMaskShow?s("uim-modal",{attrs:{bindMask:e.isMaskShow,bindCard:e.isCardShow}},[s("h3",{attrs:{slot:"uim-modal-title"},slot:"uim-modal-title"},[e._v("正在连接支付网关")]),s("div",{staticClass:"flex align-center justify-center wrap",attrs:{slot:"uim-modal-body"},slot:"uim-modal-body"},[s("div",{staticClass:"order-checker-content"},[e._v("\n          感谢您对我们的支持，请耐心等待\n        ")])])]):e._e()],1)],1)},gs=[],vs={mixins:[Ce,N],components:{"uim-modal":tt},data:function(){return{price:"",isMaskShow:!1,isCardShow:!1,isQrShow:!1,tid:"",qrcode:{}}},methods:{hideQr:function(){this.isQrShow=!1,clearTimeout(this.tid)},charge:function(){var e=this,t=0,s=parseFloat(this.price);if(isNaN(s)){var n={msg:"非法的金额!",icon:"times-circle",time:1500};this.callMsgr(n)}else this.callModal(function(){setTimeout(function(){var n={amount:s};E("/user/payment/purchase",JSON.stringify(n),"include").then(function(s){if(window.console.log(s),1===s.ret)return window.console.log(s),e.callModal(),t=s.pid,e.isQrShow=!0,s.qrcode;e.callModal(function(){setTimeout(function(){var t={msg:s.msg,icon:"times-circle",time:1500};e.callMsgr(t)},300)})}).then(function(s){window.console.log(s),e.qrcode=new window.QRCode("f2fqr",{render:"canvas",width:200,height:200,text:encodeURI(s)}),e.tid=setTimeout(function(){e.chargeChecker(t)},1e3)})},300)})},callModal:function(e){var t=this;!1===this.isMaskShow?(this.isMaskShow=!0,setTimeout(function(){t.isCardShow=!0,e&&e()},300)):(this.isCardShow=!1,setTimeout(function(){t.isMaskShow=!1,e&&e()},300))},chargeChecker:function(e){var t=this,s={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n=new URLSearchParams;n.set("pid",e),E("/payment/status",n,"include",s).then(function(s){if(s.result){var n={msg:"充值成功",icon:"check-circle",time:1500};t.callMsgr(n),t.hideQr(),t.reConfigResourse()}else t.tid=setTimeout(function(){t.chargeChecker(e)},1e3)})}}},_s=vs,Cs=(s("f1c8"),Object(d["a"])(_s,hs,gs,!1,null,null,null)),bs=Cs.exports,ys={mixins:[Ce,N],components:{"uim-dropdown":Ct,"payment-code":Yt,"payment-log":ss,"payment-trimepay":cs,"payment-codepay":fs,"payment-f2fpay":bs},computed:{paymentType:function(){switch(this.currentPayment){case"trimepay":return this.menuList["trimepay"];case"codepay":return this.menuList["codepay"];case"f2fpay":return this.menuList["f2fpay"];case"code":return this.menuList["code"];case"log":return this.menuList["log"]}}},data:function(){return{currentPayment:"",menuList:{code:{name:"充值码",component:"payment-code"},log:{name:"充值记录",component:"payment-log"}}}},methods:{changePayementType:function(e){this.currentPayment=e}},created:function(){var e=this.globalConfig.paymentType;this.currentPayment=e;var t={name:"自助充值",component:""};switch(e){case"trimepay":t.component="payment-trimepay";break;case"codepay":t.component="payment-codepay";break;case"f2fpay":t.component="payment-f2fpay";break}this.$set(this.menuList,this.globalConfig.paymentType,t),window.console.log(this.menuList)}},ws=ys,Ss=(s("3a4c"),Object(d["a"])(ws,Qt,qt,!1,null,null,null)),ks=Ss.exports,Ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-anchor"},[s("ul",{staticClass:"uim-anchor-inner"},[e._t("uim-anchor-inner")],2)])},xs=[],Is={name:"uim-anchor"},Ns=Is,Rs=(s("4aa7"),Object(d["a"])(Ns,Ts,xs,!1,null,null,null)),Ps=Rs.exports,Ls={mixins:[N,ge],components:{"user-announcement":Se,"user-invite":Ve,"user-shop":dt,"user-guide":St,"user-resourse":Gt,"user-settings":Wt,"user-charge":ks,"uim-dropdown":Ct,"uim-tooltip":Le,"uim-anchor":Ps},props:["routermsg"],computed:{ssrlinkTitle:function(){return!0===this.mergeSub?"订阅链接:":"SSR"===this.currentDlType?"普通端口:":"订阅链接:"},typeToken:function(){switch(this.currentDlType){case"SSR":var e=this.suburlBase;return"true"!==this.mergeSub&&(e=this.suburlMu0),{tagkey:"dl-ssr",subKey:"sub-ssr",arrIndex:0,muType:"mu0",subUrl:e};case"SS/SSD":return{tagkey:"dl-ss",subKey:"sub-ss",arrIndex:1,muType:"mu3",subUrl:this.suburlMu3};case"V2RAY":return{tagkey:"dl-v2",subKey:"sub-v2",arrIndex:2,muType:"mu2",subUrl:this.suburlMu2}}},currentCardComponentIndex:function(){switch(this.currentCardComponent){case"user-announcement":return 0;case"user-guide":return 1;case"user-invite":return 2;case"user-charge":return 3;case"user-shop":return 4}}},data:function(){return{userLoadState:"beforeload",toolTips:{mu0:!1,mu1:!1,mu2:!1,mu3:!1,resetConfirm:!1},subLinkTrans:!1,userCreditTrans:!1,userResourseTrans:!1,menuOptions:[{name:"公告栏",id:"user-announcement"},{name:"配置指南",id:"user-guide"},{name:"邀请链接",id:"user-invite"},{name:"充值中心",id:"user-charge"},{name:"套餐购买",id:"user-shop"}],currentCardComponent:"user-announcement"}},watch:{"userCon.money":function(e,t){this.showTransition("userCreditTrans")}},methods:{logout:function(){var e=this,t={msg:"",icon:"",time:1e3};L("/logout","include").then(function(s){1===s.ret&&(t.msg+="账户成功登出Kira~",t.icon+="check-circle",e.callMsgr(t),window.setTimeout(function(){e.setLoginToken(!1),e.$router.replace("/")},e.globalConfig.jumpDelay))})},indexPlus:function(e,t){return e===t-1?this.userSettings.currentPageIndex=e:this.userSettings.currentPageIndex+=1,this.userSettings.currentPageIndex},indexMinus:function(e){return 0===e?this.userSettings.currentPageIndex=e:this.userSettings.currentPageIndex-=1,this.userSettings.currentPageIndex},showTransition:function(e){var t=this;this[e]=!0,setTimeout(function(){t[e]=!1},500)},componentChange:function(e){this.currentCardComponent=e.target.dataset.component},changeUserSetPage:function(e){this.userSettings.currentPage=this.userSettings.pages[e].id,this.userSettings.currentPageIndex=e},showToolTip:function(e){this.toolTips[e]=!0},hideToolTip:function(e){this.toolTips[e]=!1},resetSubscribLink:function(){var e=this;L("/getnewsubtoken","include").then(function(t){if(1===t.ret){e.ssrSubToken=t.arr.ssr_sub_token,e.hideToolTip("resetConfirm"),e.showTransition("subLinkTrans");var s={msg:"已重置您的订阅链接，请变更或添加您的订阅链接！",icon:"bell",time:1500};e.callMsgr(s)}else-1===t.ret&&e.ajaxNotLogin()})},scrollPage:function(e){if(e>0){var t=this.indexPlus(this.userSettings.currentPageIndex,this.userSettings.pages.length);this.changeUserSetPage(t)}else{var s=this.indexMinus(this.userSettings.currentPageIndex);this.changeUserSetPage(s)}},showSigner:function(){var e=this,t=new Promise(function(t,s){e.setSignSet({transition:!0}),t()});t.then(function(t){setTimeout(function(){e.setSignSet({isSignShow:!0})},500)})}},mounted:function(){var e=this,t=this;this.userLoadState="loading",""===this.userCon?L("/getuserinfo","include").then(function(t){1===t.ret?(window.console.log(t.info),e.setUserCon(t.info.user),e.setUserSettings(e.userCon),window.console.log(e.userCon),t.info.ann&&e.setAnn(t.info.ann),e.setAllBaseCon({subUrl:t.info.subUrl,ssrSubToken:t.info.ssrSubToken,iosAccount:t.info.iosAccount,iosPassword:t.info.iosPassword,displayIosClass:t.info.displayIosClass}),e.setBaseUrl(t.info.baseUrl),e.setMergeSub(t.info.mergeSub)):-1===t.ret&&e.ajaxNotLogin()}).then(function(s){setTimeout(function(){t.userLoadState="loaded",e.showSigner()},500)}):(t.userLoadState="loaded",this.showSigner())},beforeRouteLeave:function(e,t,s){var n=this;e.matched.some(function(e){return e.meta.alreadyAuth})?s(!1):(this.setSignSet({isSignShow:!1}),setTimeout(function(){n.setSignSet({transition:!1}),s()},200))}},Es=Ls,Os=(s("14a1"),Object(d["a"])(Es,fe,he,!1,null,null,null)),As=Os.exports,Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-user pure-u-1"},[s("div",{staticClass:"title-back flex align-center"},[e._v("NODELIST")]),s("transition",{attrs:{name:"loading-fadex",mode:"out-in"}},["beforeload"===e.userLoadState?s("div",{staticClass:"loading flex align-center"},[e._v("\n      NODELIST\n    ")]):"loading"===e.userLoadState?s("div",{key:"loading",staticClass:"loading flex align-center"},[s("div",{staticClass:"spinnercube"},[s("div",{staticClass:"cube1"}),s("div",{staticClass:"cube2"})])]):"loaded"===e.userLoadState?s("div",{staticClass:"usrcenter text-left pure-g space-around"},[s("div",{staticClass:"pure-u-1 pure-u-xl-6-24 pure-g usrcenter-left"},[s("div",{staticClass:"card pure-u-1"},[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("节点详情")])]),s("div",{staticClass:"card-body"},[s("div",[s("span",{staticClass:"node-break"},[e._v("节点名称："+e._s(e.currentNode.name))])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"node-break"},[e._v("\n                节点地址："+e._s(e._f("serverfilter")(e.currentNode.server))+"\n              ")])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"node-break"},[e._v(e._s(e.currentNode.info))])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"tips tips-gold"},[e._v("流量")]),s("span",[e._v(e._s(e.currentNode.traffic_used))]),e.currentNode.traffic_limit>0?s("span",[e._v(e._s("/ "+e.currentNode.traffic_limit))]):e._e(),e._v("\n              GB\n            ")]),s("div",{staticClass:"pure-u-1 pure-u-md-12-24 pure-u-xl-1"},[s("div",{staticClass:"node-data"},[s("span",{staticClass:"tips tips-blue"},[e._v("在线")]),e.currentNode.online_user>0?s("span",[e._v(e._s(e.currentNode.online_user))]):s("span",[e._v("0")])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"tips tips-blue"},[e._v("倍率")]),s("span",[e._v(e._s(e.currentNode.traffic_rate))])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"tips tips-blue"},[e._v("速率")]),e.currentNode.bandwidth>0?s("span",[e._v(e._s(e.currentNode.bandwidth))]):s("span",[e._v("无限制")])]),s("div",{staticClass:"node-data"},[s("span",{staticClass:"tips tips-blue"},[e._v("负载")]),e.currentNode.latest_load>0?s("span",[e._v("\n                  "+e._s(e._f("loadFilter")(e.currentNode.latest_load))+"\n                ")]):s("span",[e._v("0")])])]),s("div",{staticClass:"pure-u-1 pure-u-md-12-24 pure-u-xl-1"},[11===e.currentNode.sort||12===e.currentNode.sort?s("div",[s("div",{staticClass:"node-data"},[s("span",[e._v("\n                    VMESS链接:\n                    "),s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.currentNodeInfoRes.vmessUrl}},[e._v("\n                      复制链接\n                    ")])])])]):e._e(),0===e.currentNode.sort||10===e.currentNode.sort||13===e.currentNode.sort?s("div",[1!==e.currentNode.mu_only&&"ssrlink"in e.currentNodeInfoRes?s("div",{staticClass:"node-data"},[s("span",[e._v("\n                    SSR链接:\n                    "),s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.currentNodeInfoRes.ssrlink}},[e._v("\n                      复制普通端口链接\n                    ")])])]):e._e(),1!==e.currentNode.mu_only&&"sslink"in e.currentNodeInfoRes?s("div",{staticClass:"node-data"},[s("span",[e._v("\n                    SS链接:\n                    "),s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.currentNodeInfoRes.sslink}},[e._v("\n                      复制普通端口链接\n                    ")])])]):e._e(),-1!==e.currentNode.mu_only?s("div",{staticClass:"node-data"},[s("span",[s("button",{staticClass:"tips tips-gold",on:{click:e.checkSinglePort}},[e._v("\n                      查看单端口配置\n                    ")])])]):e._e()]):e._e()])])])]),s("div",{staticClass:"pure-u-1 pure-u-xl-17-24"},["node"===e.listType?s("div",{staticClass:"card margin-nobottom-sm"},[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("节点列表")]),s("div",{staticClass:"card-title-right"},[s("uim-dropdown",{scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",{key:e.currentNodeClass},[e._v("\n                      "+e._s(0===e.currentNodeClass?"普通节点":"VIP "+e.currentNodeClass)+"\n                    ")])])]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(e.classDrop,function(t){return s("li",{key:t.class,on:{click:function(s){return e.nodeClassChange(t.class)}}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])})},proxy:!0}],null,!1,462977446)})],1)]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"nodelist flex space-between"},[e._l(e.nodeFilter,function(t,n){return s("div",{key:t.id,staticClass:"nodeitem",class:{"nodeitem-avtive":e.currentNode.id===t.id},on:{click:function(s){return e.enterCurrentNode(n,t.id)}}},[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"nodename"},[!0===e.globalConfig.enableFlag?s("img",{staticClass:"flag",attrs:{src:"/images/prefix/"+t.flag,alt:""}}):e._e(),e._v("\n                    "+e._s(e._f("tailFilter")(t.name))+"\n                  ")]),s("div",{staticClass:"node-online-status",class:[{"node-online":1===t.online},{"node-unset":0===t.online},{"node-offline":0!==t.online&&1!==t.online}]})])])}),s("div",{staticClass:"nodeitem-fix"})],2)])]):"nodeDetail"===e.listType?s("div",{staticClass:"card margin-nobottom-sm"},[11===e.currentNode.sort||12===e.currentNode.sort?s("uim-nodedetail-v2ray",{attrs:{node:e.currentNode,nodeInfoRes:e.currentNodeInfoRes},on:{"return-nodelist":function(t){return e.setListType("node")}}}):e._e(),0===e.currentNode.sort||10===e.currentNode.sort||13===e.currentNode.sort?s("uim-nodedetail-ss",{attrs:{ifSinglePort:e.ifSinglePort,node:e.currentNode,nodeInfoRes:e.currentNodeInfoRes,singlePort:e.currentSinglePort},on:{"return-nodelist":function(t){return e.setListType("node")},"get-singleport":e.getSinglePort}}):e._e()],1):e._e()])]):e._e()])],1)},Gs=[],Ds={store:I,computed:Object(w["d"])({nodeList:function(e){return e.nodeState.nodeList},nodeMuPortList:function(e){return e.nodeState.nodeMuPortList}}),methods:Object(S["a"])({},Object(w["b"])({}),Object(w["c"])({setNodeList:"SET_NODELIST",setNodeMuPortList:"SET_NODEMUPORTLIST"}))},js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("节点详情")]),s("div",{staticClass:"card-title-right"},[s("a",{staticClass:"btn-user",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("return-nodelist")}}},[s("font-awesome-icon",{attrs:{icon:"reply"}}),e._v(" 节点列表\n      ")],1)])]),s("div",{staticClass:"card-body"},["nodeInfo"in e.nodeInfoRes?s("div",[s("div",[e._v("地址: "+e._s(e.nodeInfoRes.nodeInfo.add))]),s("div",[e._v("端口: "+e._s(e.nodeInfoRes.nodeInfo.port))]),s("div",[e._v("AlterId: "+e._s(e.nodeInfoRes.nodeInfo.aid))]),s("div",[e._v("用户 UUID: "+e._s(e.nodeInfoRes.nodeInfo.id))]),s("div",[e._v("传输协议: "+e._s(e.nodeInfoRes.nodeInfo.net))]),"ws"===e.nodeInfoRes.nodeInfo.net?s("div",[e._v("\n        路径: "+e._s(e.nodeInfoRes.nodeInfo.path)+"\n      ")]):e._e(),"none"!==e.nodeInfoRes.nodeInfo.net?s("div",[e._v("\n        伪装方式: "+e._s(e.nodeInfoRes.nodeInfo.type)+"\n      ")]):e._e(),"ws"===e.nodeInfoRes.nodeInfo.net&&"tls"===e.nodeInfoRes.nodeInfo.tls||"tls"===e.nodeInfoRes.nodeInfo.tls?s("div",[e._v("\n        TLS: "+e._s(e.nodeInfoRes.nodeInfo.tls)+"\n      ")]):e._e()]):e._e()])])},Us=[],Bs={props:["node","nodeInfoRes"],mounted:function(){}},$s=Bs,Ws=Object(d["a"])($s,js,Us,!1,null,null,null),Qs=Ws.exports,qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"flex space-between align-center"},[s("div",{staticClass:"card-title"},[e._v("节点详情")]),s("div",{staticClass:"card-title-right"},[s("a",{staticClass:"btn-user",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("return-nodelist")}}},[s("font-awesome-icon",{attrs:{icon:"reply"}}),e._v(" 节点列表\n      ")],1)])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"nodelist flex space-between pure-g"},[s("div",{staticClass:"pure-g pure-u-1"},[1!==e.node.mu_only&&"ssrlink"in e.nodeInfoRes?s("button",{staticClass:"pure-u-1-3 btn-user",class:{"detail-btn-active":"ssr"===e.clType},on:{click:function(t){return e.changeType("ssr")}}},[e._v("\n          SSR\n        ")]):e._e(),1!==e.node.mu_only&&"sslink"in e.nodeInfoRes?s("button",{staticClass:"pure-u-1-3 btn-user",class:{"detail-btn-active":"ss"===e.clType},on:{click:function(t){return e.changeType("ss")}}},[e._v("\n          SS\n        ")]):e._e(),-1!==e.node.mu_only?s("uim-dropdown",{staticClass:"pure-u-1-3 btn-user",class:{"detail-btn-active":"singleport"===e.clType},attrs:{btnwidth:"100%"},scopedSlots:e._u([{key:"dpbtn-content",fn:function(){return[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("div",[e._v("\n                "+e._s(e.currentSinglePortName)+"\n              ")])])]},proxy:!0},{key:"dp-menu",fn:function(){return e._l(e.nodeMuPortList,function(t){return s("li",{key:t.server.id,on:{click:function(s){return e.enterSinglePort(t)}}},[e._v("\n              "+e._s(t.server.server)+"\n            ")])})},proxy:!0}],null,!1,2899753966)}):e._e()],1),s("div",{staticClass:"pure-g pure-u-1"},["nodeInfo"in e.nodeInfoRes&&"user"in e.nodeInfoRes.nodeInfo?s("div",{staticClass:"pure-u-1 pure-u-md-12-24"},[s("div",{staticClass:"node-data"},[e._v("\n            服务器地址: "+e._s(e._f("serverfilter")(e.node.server))+"\n          ")]),s("div",{staticClass:"node-data"},[e._v("\n            服务器端口:\n            "+e._s(e.dataCheck?e.singlePort.nodeInfo.mu:e.nodeInfoRes.nodeInfo.user.port)+"\n          ")]),s("div",{staticClass:"node-data"},[e._v("\n            加密方式:\n            "+e._s(e.dataCheck?e.singlePort.data.user.method:e.nodeInfoRes.nodeInfo.user.method)+"\n          ")]),s("div",{staticClass:"node-data"},[e._v("\n            密码:\n            "+e._s(e.dataCheck?e.singlePort.data.user.passwd:e.nodeInfoRes.nodeInfo.user.passwd)+"\n          ")]),"ssr"===e.clType?s("div",{staticClass:"node-data"},[e._v("\n            协议: "+e._s(e.nodeInfoRes.nodeInfo.user.protocol)+"\n          ")]):e._e(),"singleport"===e.clType&&"ssrlink"in e.singlePort?s("div",{staticClass:"node-data"},[e._v("\n            协议: "+e._s(e.singlePort.data.user.protocol)+"\n          ")]):e._e(),"ssr"===e.clType?s("div",{staticClass:"node-data"},[e._v("\n            协议参数: "+e._s(e.nodeInfoRes.nodeInfo.user.protocol_param)+"\n          ")]):e._e(),"singleport"===e.clType&&"ssrlink"in e.singlePort?s("div",{staticClass:"node-data"},[e._v("\n            协议参数: "+e._s(e.singlePort.data.user.protocol_param)+"\n          ")]):e._e(),s("div",{staticClass:"node-data"},[e._v("\n            混淆:\n            "+e._s(e.dataCheck?e.singlePort.data.user.obfs:e.nodeInfoRes.nodeInfo.user.obfs)+"\n          ")]),s("div",{staticClass:"node-data"},[e._v("\n            混淆参数:\n            "+e._s(e.dataCheck?e.singlePort.data.user.obfs_param:e.nodeInfoRes.nodeInfo.user.obfs_param)+"\n          ")])]):e._e(),"nodeInfo"in e.nodeInfoRes&&"user"in e.nodeInfoRes.nodeInfo?s("div",{staticClass:"pure-u-1 pure-u-md-12-24"},[e.dataCheck?s("div",[s("div",{staticClass:"node-data"},["ssrlink"in e.singlePort?s("span",[e._v("SSR链接:\n                "),s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.singlePort.ssrlink}},[e._v("\n                  复制SSR单端口链接\n                ")])]):e._e()]),s("div",{staticClass:"node-data"},["sslink"in e.singlePort?s("span",[e._v("SS链接:\n                "),s("button",{directives:[{name:"uimclip",rawName:"v-uimclip",value:{onSuccess:e.successCopied},expression:"{ onSuccess: successCopied }"}],staticClass:"tips tips-blue",attrs:{"data-uimclip":e.singlePort.sslink}},[e._v("\n                  复制SS单端口链接\n                ")])]):e._e()])]):e._e()]):e._e(),e._m(0)])])])])},Fs=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pure-u-1 node-qr"},[s("div",{staticClass:"pure-u-1 pure-u-md-12-24 pure-u-xl-8-24"},[s("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"1rem"}},[e._v("\n              SSR二维码\n            ")]),s("div",{staticClass:"flex justify-center",attrs:{id:"ssr-qr"}})]),s("div",{staticClass:"pure-u-1 pure-u-md-12-24 pure-u-xl-8-24"},[s("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"1rem"}},[e._v("\n              SS windows二维码\n            ")]),s("div",{staticClass:"flex justify-center",attrs:{id:"ss-qr-win"}})]),s("div",{staticClass:"pure-u-1 pure-u-md-12-24 pure-u-xl-8-24"},[s("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"1rem"}},[e._v("\n              SS 其他客户端二维码\n            ")]),s("div",{staticClass:"flex justify-center",attrs:{id:"ss-qr-nm"}})])])}],Ks={mixins:[N,Ds],components:{"uim-dropdown":Ct},props:{node:{type:Object},nodeInfoRes:{type:Object},singlePort:{type:Object},ifSinglePort:{type:Boolean}},filters:{serverfilter:function(e){if(-1===e.indexOf(";"))return e;if(-1===e.indexOf("server="))return e=e.slice(0,e.indexOf(";")),e;for(var t,s=e.split("|"),n=0;n<=s.length-1;n++)-1!==s[n].indexOf("server=")&&(t=s[n].slice(s[n].indexOf("=")+1));return t}},computed:{currentSinglePortName:function(){return""===this.currentSinglePort?"单端口":"单端口: ".concat(this.currentSinglePort.server.server)},dataCheck:function(){return"singleport"===this.clType&&("ssrlink"in this.singlePort||"sslink"in this.singlePort)}},data:function(){return{clType:"ssr",currentSinglePort:"",ssrQr:null,ssQrWin:null,ssQrNm:null}},watch:{nodeInfoRes:{handler:function(e){1!==this.node.mu_only?"ssrlink"in this.nodeInfoRes?(this.clType="ssr",this.setQr("ssr-qr",this.nodeInfoRes.ssrlink)):(this.clType="ss",this.setQr("ss-qr-win",this.nodeInfoRes.ssQrWin),this.setQr("ss-qr-nm",this.nodeInfoRes.sslink)):(this.clType="singleport",this.enterSinglePort(this.nodeMuPortList[0]))},deep:!0},singlePort:{handler:function(e){document.getElementById("ssr-qr").innerHTML="",document.getElementById("ss-qr-win").innerHTML="",document.getElementById("ss-qr-nm").innerHTML="","singleport"===this.clType&&this.singlePortQr()},deep:!0},ifSinglePort:function(){this.enterSinglePort(this.nodeMuPortList[0])},clType:function(e){switch(document.getElementById("ssr-qr").innerHTML="",document.getElementById("ss-qr-win").innerHTML="",document.getElementById("ss-qr-nm").innerHTML="",e){case"ssr":this.setQr("ssr-qr",this.nodeInfoRes.ssrlink);break;case"ss":this.setQr("ss-qr-win",this.nodeInfoRes.ssQrWin),this.setQr("ss-qr-nm",this.nodeInfoRes.sslink);break}}},mounted:function(){},methods:{changeType:function(e){this.clType=e},enterSinglePort:function(e){this.changeType("singleport"),this.currentSinglePort=e,this.$emit("get-singleport",e)},setQr:function(e,t){var s={render:"canvas",correctLevel:3,width:200,height:200,text:t};switch(e){case"ssr-qr":null!==this.ssrQr&&(this.ssrQr=null,document.getElementById(e).innerHTML=""),this.ssrQr=new window.QRCode(e,s);break;case"ss-qr-win":null!==this.ssQrWin&&(this.ssQrWin=null,document.getElementById(e).innerHTML=""),this.ssQrWin=new window.QRCode(e,s);break;case"ss-qr-nm":null!==this.ssQrNm&&(this.ssQrNm=null,document.getElementById(e).innerHTML=""),this.ssQrNm=new window.QRCode(e,s);break}},singlePortQr:function(){"ssrlink"in this.singlePort&&this.setQr("ssr-qr",this.singlePort.ssrlink),"sslink"in this.singlePort&&(this.setQr("ss-qr-win",this.singlePort.ssQrWin),this.setQr("ss-qr-nm",this.singlePort.sslink))}}},Vs=Ks,Js=(s("ca35"),Object(d["a"])(Vs,qs,Fs,!1,null,"03e7cb77",null)),Hs=Js.exports,Ys={mixins:[N,Ds],components:{"uim-dropdown":Ct,"uim-nodedetail-v2ray":Qs,"uim-nodedetail-ss":Hs},filters:{tailFilter:function(e){var t=e.indexOf(" - ");return e=e.slice(0,t),e},serverfilter:function(e){if(-1===e.indexOf(";"))return e;if(-1===e.indexOf("server="))return e=e.slice(0,e.indexOf(";")),e;for(var t,s=e.split("|"),n=0;n<=s.length-1;n++)-1!==s[n].indexOf("server=")&&(t=s[n].slice(s[n].indexOf("=")+1));return t},loadFilter:function(e){var t=parseFloat(e).toFixed(2);return"".concat(t," %")}},computed:{classDrop:function(){var e=[],t=this.nodeList[0].class;0===t?e.push({name:"普通节点",class:0}):e.push({name:"VIP "+t,class:t});for(var s=1;s<=this.nodeList.length-1;s++){var n=this.nodeList[s].class,i=this.nodeList[s-1].class;n!==i&&e.push({name:"VIP "+n,class:n})}return e},nodeFilter:function(){var e=this;return this.nodeList.filter(function(t){return t.class===e.currentNodeClass})}},data:function(){return{listType:"node",userLoadState:"beforeload",currentNodeClass:0,currentNode:{},currentNodeInfoRes:{vmessUrl:""},currentSinglePort:{},ifSinglePort:!1}},methods:{nodeClassChange:function(e){this.currentNodeClass=e},setCurrentNode:function(e){this.currentNode=this.nodeFilter[e]},setListType:function(e){this.listType=e},getNodeinfo:function(e){var t=this;L("/nodeinfo/".concat(e),"include").then(function(e){t.currentNodeInfoRes=e,window.console.log(t.currentNodeInfoRes)})},getSinglePort:function(e){var t=this;L("/nodeinfo/".concat(this.currentNode.id,"?ismu=").concat(e.server.server),"include").then(function(s){t.currentSinglePort=s,t.$set(t.currentSinglePort,"data",e),window.console.log(t.currentSinglePort)})},enterCurrentNode:function(e,t){this.setCurrentNode(e),this.setListType("nodeDetail"),this.getNodeinfo(t)},checkSinglePort:function(){this.setListType("nodeDetail"),this.$nextTick(function(){this.ifSinglePort=!this.ifSinglePort})}},mounted:function(){var e=this,t=this;this.userLoadState="loading",""===this.userCon&&L("/getuserinfo","include").then(function(t){1===t.ret?(e.setUserCon(t.info.user),e.setUserSettings(e.userCon),window.console.log(e.userCon),t.info.ann&&e.setAnn(t.info.ann),e.setAllBaseCon({subUrl:t.info.subUrl,ssrSubToken:t.info.ssrSubToken,iosAccount:t.info.iosAccount,iosPassword:t.info.iosPassword,displayIosClass:t.info.displayIosClass}),e.setBaseUrl(t.info.baseUrl),e.setMergeSub(t.info.mergeSub)):-1===t.ret&&e.ajaxNotLogin()}).then(function(e){}),""===this.nodeList?L("/getnodelist","include").then(function(t){1===t.ret?(e.setNodeList(t.nodeinfo.nodes),e.setNodeMuPortList(t.nodeinfo.nodes_muport),window.console.log(e.nodeList),window.console.log(e.nodeMuPortList),e.currentNodeClass=e.nodeList[0].class,e.setCurrentNode(0),e.getNodeinfo(e.currentNode.id)):-1===t.ret&&e.ajaxNotLogin()}).then(function(e){t.userLoadState="loaded"}):(t.userLoadState="loaded",this.setCurrentNode(0))},beforeRouteLeave:function(e,t,s){var n=this;e.matched.some(function(e){return e.meta.alreadyAuth})?s(!1):(this.setSignSet({isSignShow:!1}),setTimeout(function(){n.setSignSet({transition:!1}),s()},200))}},zs=Ys,Xs=(s("ed77"),Object(d["a"])(zs,Ms,Gs,!1,null,null,null)),Zs=Xs.exports;n["a"].use(o["a"]);var en=new o["a"]({routes:[{path:"/",components:{default:m},meta:{title:"Index"}},{path:"/auth/",component:C,redirect:"/auth/login",meta:{alreadyAuth:!0},children:[{path:"Login",component:Q,meta:{title:"login"}},{path:"register",component:H,meta:{title:"Register"}}]},{path:"/password/",component:te,redirect:"/password/reset",meta:{alreadyAuth:!0},children:[{path:"reset",component:re,meta:{title:"Reset"}}]},{path:"/user/",component:me,redirect:"/user/panel",meta:{requireAuth:!0},children:[{path:"panel",component:As,meta:{title:"Usercenter"}},{path:"node",component:Zs,meta:{title:"Usercenter"}}]}]});en.beforeEach(function(e,t,s){function n(){I.state.logintoken&&e.matched.some(function(e){return e.meta.alreadyAuth})?s("/user/panel"):!I.state.logintoken&&e.matched.some(function(e){return e.meta.requireAuth})?s("/auth/login"):(document.title=I.state.globalConfig.indexMsg.appname+" - "+e.meta.title,s())}x?n():L("/globalconfig","include").then(function(e){1===e.ret&&(x=e.globalConfig,x.geetest_html&&x.geetest_html.success?(x.isGetestSuccess="1",I.commit("SET_GLOBALCONFIG",x)):(x.isGetestSuccess="0",I.commit("SET_GLOBALCONFIG",x)))}).then(function(e){n()})});var tn,sn,nn=en,an=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-messager"},[s("div",[s("font-awesome-icon",{attrs:{icon:e.msgrCon.icon}}),s("span",[e._t("msg")],2),""!==e.msgrCon.html?s("div",{domProps:{innerHTML:e._s(e.msgrCon.html)}},[e._t("html")],2):e._e()],1)])},on=[],rn={props:["msgrCon"]},cn=rn,un=(s("2ac4"),Object(d["a"])(cn,an,on,!1,null,null,null)),ln=un.exports,dn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uim-signer",class:{"uim-signer-ready":e.sign.isSignShow,"uim-signer-transition":e.sign.transition}},[s("div",{staticClass:"uim-signer-container",style:{top:e.containerTop(),transform:e.containerTransform}},[s("div",{ref:"signerMain",staticClass:"uim-signer-main",class:{"uim-signer-main-shadow":e.showSigner},on:{click:function(e){e.stopPropagation()}}},[s("button",{staticClass:"uim-signer-btn",class:{"uim-signer-btn-success":!e.userCon.isAbleToCheckin},on:{click:e.checkin}},[s("transition",{attrs:{name:"signer",mode:"out-in"}},[e.userCon.isAbleToCheckin?s("div",{key:"notChekined"},[s("p",[e._v("点击，或摇一摇手机")]),s("p",[e._v("签到")])]):s("div",{key:"chekined"},[s("p",[s("font-awesome-icon",{attrs:{icon:"check",size:"4x"}})],1),s("p",[e._v("今日已签到")])])])],1),s("div",{staticClass:"flex wrap"},["geetest"===e.globalConfig.captchaProvider?s("div",{attrs:{id:"embed-captcha-user"}}):e._e(),s("form",{attrs:{action:"?",method:"POST"}},[e.globalConfig.recaptchaSiteKey?s("div",{staticClass:"g-recaptcha",attrs:{id:"g-recaptcha-user","data-theme":"dark","data-sitekey":e.globalConfig.recaptchaSiteKey}}):e._e()])])]),s("div",{staticClass:"uim-signer-drawer",style:{top:e.drawerTop()}},[s("button",{class:{"uim-signer-drawer-active":e.showSigner},on:{click:function(t){return t.stopPropagation(),e.signerTrigger(t)}}},[s("font-awesome-icon",{class:{"uim-signer-rotate":e.showSigner},attrs:{icon:"chevron-down"}}),e._v(" 签到\n      ")],1)])])])},pn=[],mn={mixins:[N,O],computed:{containerTransform:function(){return this.showSigner?"translateY("+this.drawerTop()+")":"translateY(0px)"}},data:function(){return{showSigner:!1,shakeEvent:""}},methods:{containerTop:function(){return this.$refs.signerMain?-this.$refs.signerMain.clientHeight+"px":"-250px"},drawerTop:function(){return this.$refs.signerMain?this.$refs.signerMain.clientHeight+"px":"250px"},signerTrigger:function(){!1===this.showSigner?this.showSigner=!0:this.showSigner=!1},hideSigner:function(){this.showSigner=!1},checkin:function(){var e=this,t={},s={msg:"",icon:"",time:0};if(!0===this.globalConfig.enableCheckinCaptcha)switch(this.globalConfig.captchaProvider){case"recaptcha":t.recaptcha=window.grecaptcha.getResponse();break;case"geetest":""!==this.validate?(t.geetest_challenge=this.validate.geetest_challenge,t.geetest_validate=this.validate.geetest_validate,t.geetest_seccode=this.validate.geetest_seccode):s.msg+="请滑动验证码来完成验证。";break}E("/user/checkin",JSON.stringify(t),"include").then(function(t){t.ret?(window.console.log(t),s.msg+=t.msg,s.icon="check-circle",s.time=4e3,e.setAllResourse({isAbleToCheckin:!1}),setTimeout(function(){e.signerTrigger(),e.callMsgr(s),e.addNewUserCon(t.trafficInfo),e.TraffictransTrigger()},1e3)):(window.console.log(t),s.msg+=t.msg,s.icon="times-circle",s.time=1500,e.callMsgr(s),e.signerTrigger())})},shakeEventDidOccur:function(){"vibrate"in navigator&&navigator.vibrate(500),this.checkin()}},mounted:function(){window.addEventListener("shake",this.shakeEventDidOccur,!1);var e=document.getElementById("app");e.addEventListener("click",this.hideSigner,!1),!1!==this.globalConfig.enableCheckinCaptcha&&(this.loadCaptcha("g-recaptcha-user"),this.loadGT("#embed-captcha-user"))},beforeDestroy:function(){window.removeEventListener("shake",this.shakeEventDidOccur,!1);var e=document.getElementById("app");e.removeEventListener("click",this.hideSigner,!1)}},fn=mn,hn=(s("35f9"),Object(d["a"])(fn,dn,pn,!1,null,null,null)),gn=hn.exports,vn={router:nn,mixins:[N],components:{"uim-messager":ln,"uim-signer":gn},computed:{globalGuide:function(){switch(this.routerN){case"index":return{icon:"home",content:"回到首页",href:"/"};case"auth":return{icon:"key",content:"登录/注册",href:"/auth/login"};case"panel":return{icon:"user",content:"用户中心",href:"/user/panel"};case"node":return{icon:"code-branch",content:"节点列表",href:"/user/node"}}},showSigner:function(){return this.logintoken&&"/user/panel"===this.$route.path}},data:function(){return{routerN:"auth",transType:"slide-fade"}},methods:{routeJudge:function(){switch(this.$route.path){case"/":!1===this.logintoken?this.routerN="auth":this.routerN="panel";break;case"/user/panel":this.routerN="node";break;case"/user/node":this.routerN="panel";break;case"/auth/login":this.routerN="index";break;case"/auth/register":this.routerN="index";break;case"/password/reset":this.routerN="index";break}},getPublicResouce:function(){}},watch:{$route:function(e,t){this.routeJudge(),"/password/reset"===e.path||"/password/reset"===t.path?this.transType="rotate-fade":this.transType="slide-fade"}},beforeMount:function(){"#/"===window.location.hash&&""===this.globalConfig.indexMsg.hitokoto&&this.getPublicResouce()},mounted:function(){var e=this;this.routeJudge(),setTimeout(function(){e.setLoadState()},500)}},_n=vn,Cn=(s("034f"),Object(d["a"])(_n,i,a,!1,null,null,null)),bn=Cn.exports,yn=(s("5fa9"),s("10d9"),s("ecee")),wn=s("c074"),Sn=s("b702"),kn=s("f2d1"),Tn=s("ad3d"),xn={inserted:function(e,t){e.addEventListener("click",function(s){var n=document.createElement("textarea"),i=e.dataset.uimclip;n.value=i,e.after(n),n.focus(),n.setSelectionRange(0,i.length),document.execCommand("copy"),n.remove(),t.value.onSuccess()})}},In=[wn["k"],wn["n"],wn["o"],wn["x"],wn["s"],wn["y"],wn["w"],wn["r"],wn["g"],wn["v"],wn["d"],wn["f"],wn["i"],wn["j"],wn["h"],wn["a"],wn["b"],wn["u"],wn["t"],wn["c"],wn["q"],wn["p"],wn["z"],Sn["a"],kn["a"],wn["m"],wn["l"],wn["e"]];yn["c"].add.apply(yn["c"],In),n["a"].component("font-awesome-icon",Tn["a"]),n["a"].component("font-awesome-layers",Tn["b"]),n["a"].component("font-awesome-layers-text",Tn["c"]),n["a"].config.productionTip=!1,window.validate=tn,window.captha=sn,n["a"].directive("uimclip",xn),new n["a"]({render:function(e){return e(bn)}}).$mount("#app")},"5fa9":function(e,t,s){},"635b":function(e,t,s){},"64a9":function(e,t,s){},6673:function(e,t,s){},"6dff":function(e,t,s){},"6e33":function(e,t,s){"use strict";var n=s("82bf"),i=s.n(n);i.a},7206:function(e,t,s){},"82bf":function(e,t,s){},8638:function(e,t,s){"use strict";var n=s("635b"),i=s.n(n);i.a},9110:function(e,t,s){},9370:function(e,t,s){},"97ee":function(e,t,s){},a9e7:function(e,t,s){},aef0:function(e,t,s){},bbcb:function(e,t,s){},c0ec:function(e,t,s){"use strict";var n=s("2703"),i=s.n(n);i.a},c4f5:function(e,t,s){},c9e6:function(e,t,s){"use strict";var n=s("97ee"),i=s.n(n);i.a},ca35:function(e,t,s){"use strict";var n=s("e24b"),i=s.n(n);i.a},d6db:function(e,t,s){"use strict";var n=s("a9e7"),i=s.n(n);i.a},da02:function(e,t,s){"use strict";var n=s("5245"),i=s.n(n);i.a},dc00:function(e,t,s){"use strict";var n=s("aef0"),i=s.n(n);i.a},e24b:function(e,t,s){},e5b9:function(e,t,s){"use strict";var n=s("bbcb"),i=s.n(n);i.a},ec00:function(e,t,s){"use strict";var n=s("6dff"),i=s.n(n);i.a},ed77:function(e,t,s){"use strict";var n=s("1099"),i=s.n(n);i.a},eebd:function(e,t,s){},f01e:function(e,t,s){"use strict";var n=s("2e43"),i=s.n(n);i.a},f077:function(e,t,s){"use strict";var n=s("1953"),i=s.n(n);i.a},f1c8:function(e,t,s){"use strict";var n=s("0abb"),i=s.n(n);i.a},f478:function(e,t,s){}});
//# sourceMappingURL=app.9eb70db9.js.map